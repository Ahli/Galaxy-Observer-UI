<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
	<!-- created by Ahli
			twitter.com/AhliSC2 -->
	
	
	<!-- The debugger... are there no better tools?
	<Frame type="Image" name="QQQ">
		<Anchor relative="$parent"/>
		<Texture val="_Assets\Textures\QQQ.dds"/>
		<Alpha val="128"/>
	</Frame>
	 -->
	
	<!-- Constants -->
	<Constant name="DEBUG_PARTYPANEL_VISIBLE" val="false"/>
	
	<!-- unit status -->
	<Constant name="preSelectionAlpha" val="0"/>
	
	<!-- UI modifications -->
	<Frame type="GameUI" name="GameUI" file="GameUI">
		
		<Frame type="Label" name="AHLI_DEBUG1">
			<Anchor side="Top" relative="$parent" pos="Min" offset="210"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Handle val="AHLI_DEBUG"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG2">
			<Anchor side="Top" relative="$parent" pos="Min" offset="220"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Handle val="AHLI_DEBUG2"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG3">
			<Anchor side="Top" relative="$parent" pos="Min" offset="240"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Handle val="AHLI_DEBUG3"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG4">
			<Anchor side="Top" relative="$parent" pos="Min" offset="250"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Handle val="AHLI_DEBUG4"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG5">
			<Anchor side="Top" relative="$parent" pos="Min" offset="260"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Handle val="AHLI_DEBUG5"/>
		</Frame>
		<!--<Frame type="Label" name="AHLI_DEBUG2">
			<Anchor side="Top" relative="$parent" pos="Min" offset="210"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame1/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame0/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG3">
			<Anchor side="Top" relative="$parent" pos="Min" offset="220"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame2/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame0/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG4">
			<Anchor side="Top" relative="$parent" pos="Min" offset="230"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame3/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame0/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG5">
			<Anchor side="Top" relative="$parent" pos="Min" offset="240"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame4/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame0/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG6">
			<Anchor side="Top" relative="$parent" pos="Min" offset="250"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame5/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame1/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG7">
			<Anchor side="Top" relative="$parent" pos="Min" offset="260"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame6/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame1/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG8">
			<Anchor side="Top" relative="$parent" pos="Min" offset="270"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame7/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame1/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG9">
			<Anchor side="Top" relative="$parent" pos="Min" offset="280"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame8/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame1/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG10">
			<Anchor side="Top" relative="$parent" pos="Min" offset="290"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame9/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame1/@Unit}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG11">
			<Anchor side="Top" relative="$parent" pos="Min" offset="320"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$Team1HeroOverview/HeroOverview1/HeroStatus/DVaMechDetector/MechState/@Visible}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG12">
			<Anchor side="Top" relative="$parent" pos="Min" offset="330"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/@Batch}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG13">
			<Anchor side="Top" relative="$parent" pos="Min" offset="340"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$Team1HeroOverview/HeroOverview2/HeroStatus/HealthBar/@AlphaMaskTexture}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG14">
			<Anchor side="Top" relative="$parent" pos="Min" offset="340"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$HeroTalentsPanelContainer/PlayerFrame0/TalentsContainerFrame/SelectionUnitStatusPanel/UnitStatusFrame0/DVaMechHealthBar/HealthBar/@AlphaMaskTexture}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG15">
			<Anchor side="Top" relative="$parent" pos="Min" offset="350"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$GameUI/UIContainer/FullscreenUpperContainer/ObserverHeroOverviewPanel/TalentsOverview/TalentOverview/@Batch}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG16">
			<Anchor side="Top" relative="$parent" pos="Min" offset="360"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$GameUI/UIContainer/FullscreenUpperContainer/ObserverHeroOverviewPanel/TalentsOverview/TalentOverview/@BatchGroup}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG17">
			<Anchor side="Top" relative="$parent" pos="Min" offset="370"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$GameUI/UIContainer/FullscreenUpperContainer/ObserverHeroOverviewPanel/TalentsOverview/TalentOverview/@BatchText}"/>
		</Frame>
		<Frame type="Label" name="AHLI_DEBUG18">
			<Anchor side="Top" relative="$parent" pos="Min" offset="380"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
			<Text val="{$GameUI/UIContainer/FullscreenUpperContainer/ObserverHeroOverviewPanel/TalentsOverview/TalentOverview/@BatchImages}"/>
		</Frame>-->
		
		<Frame type="Frame" name="UIContainer">
			
			<Frame type="Frame" name="FullscreenUpperContainer">
				
				<!-- hide new default obs UI elements -->
				<!-- @Override -->
				<Frame type="Frame" name="ObserverTeamNamePanel">
					<Visible val="false"/>
					<!-- @Override -->
					<Frame type="Image" name="PanelImage">
						<Visible val="false"/>
					</Frame>
				</Frame>
				<!-- @Override -->
				<Frame type="Frame" name="ObserverToggleControls">
					<!-- @Override -->
					<Frame type="ToggleControl" name="ToggleControlObserverTools">
						<Shortcut val=""/>
					</Frame>
					<!-- @Override -->
					<Frame type="ToggleControl" name="ObserverToggleChat">
						<Shortcut val=""/>
					</Frame>
					<!-- @Override -->
					<Frame type="ToggleControl" name="ToggleHUD">
						<Shortcut val=""/>
					</Frame>
					<!-- @Override -->
					<Frame type="ToggleControl" name="ToggleFullHUD">
						<Shortcut val=""/>
					</Frame>
				</Frame>
				
				<!-- top panel modifications -->
				<!-- @Override -->
				<Frame type="Frame" name="ObserverHeroOverviewPanel">
					<!-- hide default -->
					<!-- @Override -->
					<Frame type="Frame" name="BottomPanel">
						<Visible val="false"/>
						<!-- @Override -->
						 <Frame type="ToggleControl" name="ToggleTalentOverview">
							<Shortcut val=""/>
						 </Frame>
						<!-- @Override -->
						 <Frame type="ToggleControl" name="ToggleStatsOverview">
							<Shortcut val=""/>
						 </Frame>
					</Frame>

				</Frame>
				
				<!-- edit existing panels -->
				<!-- Chat Bar -->
				<!-- pushes to the right (observer tools) -->
				<Frame type="Frame" name="ChatBarHorizOffset_A">
					<Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
					<Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
					<Anchor side="Left" relative="$parent" pos="Min" offset="409"/>
					<Width val="1"/>
				</Frame>
				<!-- pushes to the right (detailed unit info) -->
				<Frame type="Frame" name="ChatBarHorizOffset_B">
					<Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
					<Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
					<Anchor side="Left" relative="$parent/ChatBarHorizOffset_A" pos="Max" offset="-1"/>
					<Width val="1"/>
				</Frame>
				
				<!-- @Override -->
				<Frame type="ChatBar" name="ChatBar">
					<Anchor side="Top" relative="$this" pos="Min" offset="0"/>
					<Anchor side="Bottom" relative="$parent" pos="Max" offset="-310"/>
					<Anchor side="Left" relative="$parent/ChatBarHorizOffset_B" pos="Max" offset="0"/>
					<Anchor side="Right" relative="$this" pos="Min" offset="0"/>
					<Width val="750"/>
					
					<!-- @Override -->
					<StateGroup name="EndOfMatchChatPosition">
						<State name="EndOfMatchChatPosition">
							<When type="Property" frame="$parent/EndOfGameAwardsPanel" visible="True"/>
							<Action type="SetAnchor" frame="$this" undo="False" side="Top" relative="$parent" pos="Min" offset="1080"/>
							<Action type="SetAnchor" frame="$this" undo="False" side="Left" relative="$parent/ChatBarAnchorFrame" pos="Max" offset="0"/>
						</State>
					</StateGroup>
				</Frame>
				<!-- @Override -->
				<Frame type="GameMessageDisplay" name="ChatDisplay">
					<Anchor side="Bottom" relative="$parent/ChatBar" pos="Min" offset="-10"/>
					<Anchor side="Left" relative="$parent/ChatBar" pos="Min" offset="0"/>
					<Anchor side="Right" relative="$this" pos="Min" offset="0"/>
					<Width val="750"/>
					<Height val="310"/>
				</Frame>
				
				<!-- hide chat drag button -->
				<!-- @Override -->
				<Frame type="Control" name="ChatBarDragButton">
					<StateGroup name="ShowButton">
						<State name="Show">
							<!-- never -->
							<When type="Property" Visible="false"/>
							<When type="Property" Visible="true"/>
						</State>
					</StateGroup>
				</Frame>
				
				<!-- Hide "Press Enter to Chat" -->
				<!-- @Override -->
				<Frame type="Label" name="ChatHelpLabel">
					<Alpha val="0"/>
				</Frame>
				
				<!-- chat toggle -->
				<Frame type="ToggleControl" name="ToggleChat">
					<Anchor relative="$parent"/>
					<!-- <Shortcut val="#Hotkey - Toggle Chat"/> -->
					<AcceptsMouse val="false"/>
					<Visible val="true"/>
					
					<Animation name="Ahlimation">
						<Event event="OnShown" action="DirectionForward,Play"/>
						<Event event="OnHidden" action="DirectionReverse,Play"/>

						<Controller type="Fade" end="Pause" frame="$parent/ChatDisplay">
							<Key type="Curve" time="0" value="0"/>
							<Key type="Curve" time="0.5" value="255"/>
						</Controller>
						<Controller type="Visibility" end="Pause" frame="$parent/ChatDisplay">
							<Key type="Bool" time="0" value="false"/>
							<Key type="Bool" time="0" value="true"/>
							<Key type="Bool" time="0.5" value="true"/>
						</Controller>
					</Animation>
				</Frame>


				<!-- BUG: shortcut is hijacked -->
				<!-- FIX: added new HeroLeaderPanel to ConsoleUIContainer which reroutes the animation event -->
				<!-- FIX: close button was not working, neither -->
				<!-- TODO: remaining problem: after pressing the button, TAB still needs to be hit twice to make it re-appear -->
				<Frame type="HeroLeaderPanel" name="HeroLeaderPanel">
					<RenderPriority val="600"/>
					<Handle val="HeroLeaderPanel"/>
					
					<Frame type="Frame" name="HeroLeaderPanelContainer">
						<Frame type="Button" name="CloseButton">
							<Animation name="Click">
								<Event event="OnMouseUp" action="Play"/>
								<Controller type="Event" end="Stop" frame="$parent/$parent">
									<Key type="Event" time="0" event="Hide"/>
								</Controller>
							</Animation>
						</Frame>
					</Frame>
				</Frame>
				
				<!-- team map score -->
				<Frame type="Frame" name="TeamPanel" template="_MapScore/MapScoreTemplate">
					<Anchor relative="$parent"/>
					<RenderPriority val="500"/>
					<Visible val="false"/>
				</Frame>
				
				<!-- player vision UI changes -->
				<Frame type="ObserverPreviewFrame" name="ObserverPreviewFrame">
					<Handle val="ObserverPreviewFrame"/>
				</Frame>

				<!-- Interface control menu -->
				<Frame type="Frame" name="InterfaceControl" template="_InterfaceControl/InterfaceControlTemplate">
					<Anchor relative="$parent"/>
				</Frame>
				
				<!-- Pause notification panel -->
				<Frame type="SystemAlertPanel" name="SystemAlertPanel">
					<Anchor side="Top" relative="$parent" pos="Min" offset="120"/>
				</Frame>

				<!-- Hide TargetInfoFrame -->
				<Frame type="TargetInfoFrame" name="TargetInfoFrame">
					<Animation name="KeepHidden">
						<Event event="OnShown" action="Reset,Play"/>
						<Controller type="Visibility" end="Pause">
							<Key type="Bool" time="0" value="false"/>
						</Controller>
					</Animation>
				</Frame>

			</Frame>
			
			<Frame type="Frame" name="ConsoleUIContainer">
				<Handle val="ConsoleUIContainer"/>
				
				<!-- BUG FIX: Second HeroLeaderPanel which will react to TAB due to Blizzard's non-static implementation -->
				<!-- TODO: remaining bug is that you hit TAB twice after using the close button -->
				<Frame type="HeroLeaderPanel" name="HeroLeaderPanelHotkeyHijackFIX" template="HeroLeaderPanel/HeroLeaderPanelTemplate">
					<Anchor relative="$parent"/>
					<Handle val="HeroLeaderPanelHotkeyHijackFIX"/>
					<Frame type="Frame" name="HeroLeaderPanelContainer">
						<Anchor side="Top" relative="$parent" pos="Max" offset="9999"/>
						<Anchor side="Left" relative="$parent" pos="Max" offset="9999"/>
						<Anchor side="Bottom" relative="$parent" pos="Max" offset="9999"/>
						<Anchor side="Right" relative="$parent" pos="Max" offset="9999"/>
						<Visible val="false"/>
						<!-- always hidden content for performance -->
						<Animation name="KeepHidden">
							<Event event="OnShown" action="Reset,Play"/>
							<Controller type="Visibility" end="Pause">
								<Key type="Bool" time="0" value="false"/>
							</Controller>
						</Animation>
						
						<!-- transfer visibility -->
						<Animation name="BUGFIXanimationShow">
							<Event event="Show" action="Play" frame="$parent"/>

							<Controller type="Event" end="Stop" frame="$HeroLeaderPanel">
								<Key type="Event" time="0" event="Show"/>
							</Controller>
						</Animation>
						<Animation name="BUGFIXanimationHide">
							<Event event="Hide" action="Play" frame="$parent"/>

							<Controller type="Event" end="Stop" frame="$HeroLeaderPanel">
								<Key type="Event" time="0" event="Hide"/>
							</Controller>
						</Animation>
					</Frame>
				</Frame>


				<Frame type="Frame" name="LeaderPanelBottom" template="_LeaderPanelBottom/LeaderPanelBottomTemplate">
					<Anchor side="Bottom" relative="$parent" pos="Max" offset="#LeaderPanelBottom - VerticalOffset"/>
					<Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
					<Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
					<Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
					<Handle val="LeaderPanelBottom"/>
					
					<StateGroup name="VisibilityController">
						<DefaultState val="Show"/>
						<State name="Hide_ToggleUI">
							<When type="Property" frame="$ToggleUI" visible="true"/>
							<Action type="SetAnchor" frame="$this" undo="False" side="Bottom" relative="$parent" pos="Max" offset="999"/>
						</State>
						<State name="Hide_PlayerVisionPreview">
							<When type="Property" frame="$ObserverPreviewFrame/ContainerFrame" visible="true"/>
							<Action type="SetAnchor" frame="$this" undo="False" side="Bottom" relative="$parent" pos="Max" offset="999"/>
						</State>
						<State name="Hide_SettingsUI">
							<When type="Property" frame="$Menu_Animator" visible="true"/>
							<Action type="SetAnchor" frame="$this" undo="False" side="Bottom" relative="$parent" pos="Max" offset="999"/>
						</State>
						<State name="Show">
							<Action type="SetAnchor" frame="$this" undo="False" side="Bottom" relative="$parent" pos="Max" offset="#LeaderPanelBottom - VerticalOffset"/>
						</State>
					</StateGroup>
				</Frame>




				<!-- control groups - offscreen for now -->
				<Frame type="ControlGroupPanel" name="ControlGroupPanel">
					<Anchor side="Bottom" relative="$parent/CommandPanel" pos="Min" offset="9999"/>
					<Visible val="false"/>
				</Frame>

				<Frame type="UnitStatusFrame" name="HeroBehaviorChannelBarFrame">
					<Anchor side="Bottom" relative="$parent" pos="Max" offset="-50"/>
				</Frame>

				<!-- hide ping button -->
				<Frame type="MinimapPanel" name="MinimapPanel">
					
					<Frame type="Button" name="PingButton">
						<Visible val="false"/>
					</Frame>
				</Frame>
				
				<!-- hide party panel -->
				<Frame type="PartyFramePanel" name="PartyFramePanel">
					<Handle val="PartyFramePanel"/>
					<OverrideVisibilityForObservers val="True"/>
					<OverriddenObserverVisibility val="#DEBUG_PARTYPANEL_VISIBLE"/>
					<Anchor side="Top" relative="$parent" pos="Min" offset="270"/>
				</Frame>
				
				<!-- BUG: muting DOES NOT WORK?! Also, workaround at the top does not work either -->
				<Frame type="SelectionUnitStatusPanel" name="FloatingCombatUnitSelectionPanel">
					<Frame type="UnitStatusFrame" name="UnitStatusFrame0">
						<Frame type="HeroTalentTreeSelectionPanel" name="HeroTalentTreeSelectionPanel">
							
							<!-- TODO: this does not work... -->
							<Animation name="Show">
								<Event event="Toggle" action="ToggleDirection, Play"/>
								<Event event="Hide" action="DirectionReverse, Play"/>
								<Event event="Begin" action="DirectionForward, Play"/>
								<Event event="End" action="DirectionReverse, Play"/>
								<Event event="Show" action="DirectionReverse, Play" frame="$parent/$parent/$parent/HeroCharacterSheetPanelContainer/HeroCharacterSheetPanel"/>

								<Controller type="Fade" name="Fade_1" end="Pause">
									<Key type="Curve" time="0" value="0"/>
									<Key type="Curve" time=".175" value="255"/>
								</Controller>

								<Controller type="Anchor" name="Anchor_1" end="Pause" side="Left" relative="true">
									<Key type="Curve" time="0" value="-75" inout="Slow"/>
									<Key type="Curve" time=".175" value="0" inout="Slow"/>
								</Controller>

								<Controller type="Sound" name="Sound_1" end="Pause">
									<Key type="Sound" time="0.07" sound="@StormNoSound" direction="Forward"/>
									<Key type="Sound" time="0.175" sound="@StormNoSound" direction="Reverse"/>
								</Controller>
							</Animation>
							
							<!--<Animation name="Show">
								<Controller type="Sound" name="Sound_1" end="Pause">
									<Key type="Sound" time="0" sound="@StormNoSound"/>
								</Controller>
							</Animation>-->
						</Frame>
					</Frame>
				</Frame>

				<!-- @Override -->
				<!-- hide death recap button -->
				<Frame type="UnitStatusFrame" name="HeroDeathStunFrame">
					<Frame type="Button" name="DeathRecapButton">
						<Anchor side="Bottom" relative="$parent" pos="Min" offset="999"/>
						<Visible val="false"/>
						<Alpha val="0"/>
					</Frame>
				</Frame>
				
				
			</Frame>
			
			<Frame type="ConsolePanel" name="ConsolePanel">
				<!-- ENGINE BUG FIX (killLogPanelBug): required to show the KillLogPanel, else the UI frame may be hidden at the start of the match -->
				<Visible val="true"/>
				<Animation name="KeepVisible">
					<Event event="OnHidden" action="Reset,DirectionForward,Play"/>
					<Controller type="Visibility" end="Pause">
						<Key type="Bool" time="0" value="true"/>
					</Controller>
				</Animation>
				
				<!-- Hide hero-specific things... not sure what exactly., maybe things like butcher's hero UI -->
				<Frame type="HeroSpecificContainerPanel" name="HeroSpecificBackgroundStatusContainer">
					<Visible val="false"/>
				</Frame>
				<!-- Hide hero-specific things... li-ming's command card icons, I assume -->
				<Frame type="HeroSpecificContainerPanel" name="HeroSpecificCommandCardStatusContainer">
					<Visible val="false"/>
				</Frame>
				
				<Frame type="Frame" name="KillLogPanel">
					<Anchor side="Top" relative="$parent" pos="Min" offset="150"/>
					<Handle val="KillLogPanel"/>
				</Frame>
			</Frame>

			<Frame type="Frame" name="FullscreenLowerContainer">
				<Frame type="Frame" name="GameNotificationsPanel">
					<Anchor side="Top" relative="$parent" pos="Min" offset="116"/>
					<Visible val="#GameNotificationsPanelVisible"/>
					<Handle val="GameNotificationsPanel"/>
					
					<!-- remove default text that sometimes gets shown by accident -->
					<Frame type="Frame" name="StandardNotificationTemplate">
						<Frame type="Label" name="NotificationTitle_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationTitle">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel">
							<Text val=""/>
						</Frame>
					</Frame>
					<Frame type="Frame" name="StandardEnemyNotificationTemplate">
						<Frame type="Label" name="NotificationTitle_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationTitle">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel">
							<Text val=""/>
						</Frame>
					</Frame>
					<Frame type="Frame" name="TutorialNotificationTemplate">
						<Frame type="Label" name="NotificationTitle">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel">
							<Text val=""/>
						</Frame>
					</Frame>
					<Frame type="Frame" name="TimedKillNotificationTemplate">
						<Frame type="Frame" name="TimedKillNotification_Tier0">
							<Frame type="Label" name="NotificationTitle_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationTitle">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel">
								<Text val=""/>
							</Frame>
						</Frame>
						<Frame type="Frame" name="TimedKillNotification_Tier1">
							<Frame type="Label" name="NotificationTitle_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationTitle">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel">
								<Text val=""/>
							</Frame>
						</Frame>
						<Frame type="Frame" name="TimedKillNotification_Tier2">
							<Frame type="Label" name="NotificationTitle_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationTitle">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel">
								<Text val=""/>
							</Frame>
						</Frame>
						<Frame type="Frame" name="TimedKillNotification_Tier3">
							<Frame type="Label" name="NotificationTitle_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationTitle">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel">
								<Text val=""/>
							</Frame>
						</Frame>
						<Frame type="Frame" name="TimedKillNotification_Tier4">
							<Frame type="Label" name="NotificationTitle_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationTitle">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel_Blur">
								<Text val=""/>
							</Frame>
							<Frame type="Label" name="NotificationLabel">
								<Text val=""/>
							</Frame>
						</Frame>
					</Frame>
					<Frame type="Frame" name="KillCounterTemplate">
						<Frame type="Label" name="KillCountLabel">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="KillCountAmount">
							<Text val=""/>
						</Frame>
					</Frame>
					<Frame type="Frame" name="QuestNotificationTemplate">
						<Frame type="Label" name="NotificationTitle_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationTitle">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel_Blur">
							<Text val=""/>
						</Frame>
						<Frame type="Label" name="NotificationLabel">
							<Text val=""/>
						</Frame>
					</Frame>
				</Frame>
			</Frame>
			
		</Frame>
		
		<Frame type="WorldPanel" name="WorldPanel">
			<Handle val="WorldPanel"/>
			
			<!-- OnShown is executed when the player tabs into the game -->
			<Animation name="Ahlimation">
				<Event event="OnShown" action="DirectionForward,Play"/>
				
				<!-- ENGINE BUG FIX (killLogPanelBug): ctrl+w is needed twice to make KillLog panel appear in default obs UI, this should fix it -->
				<Controller type="Visibility" end="Pause" frame="$parent/UIContainer/ConsolePanel">
					<Key type="Bool" time="0" value="true"/>
				</Controller>
				
			</Animation>
			
		</Frame>
		
		<!-- Homescreen cutscene test
		<Frame type="Frame" name="MainMenuHeroContainer" template="Home26/StukovFrameTemplate">
			<Anchor relative="$parent"/>
			<Visible val="true"/>
			<Frame type="HeroGlueButton" name="ShopButton">
				<Visible val="false"/>
			</Frame>
			<Frame type="HeroGlueButton" name="TryButton">
				<Visible val="false"/>
			</Frame>
			<Frame type="HeroCutsceneFrame" name="HomeCutscene">
				<Animation name="OnShownAhli">
					<Event event="OnShown" action="Reset,Play"/>
					<Controller type="Cutscene" end="Stop">
						<Key type="Cutscene" time="1" action="SetCutscene" file="Cutscenes/Home_Necromancer.StormCutscene"/>
						<Key type="Cutscene" time="1" action="Play"/>
						<Key type="Cutscene" time="1" action="Bookmark" bookmark="Stand Start"/>
					</Controller>
					<Controller type="Visibility" end="Pause" frame="$parent/$parent/ToggleAllUI">
						<Key type="Bool" time="0" value="true"/>
					</Controller>
				</Animation>
			</Frame>
		</Frame> -->
		
		<!-- hotkey to hide the entire UI -->
		<Frame type="ToggleControl" name="ToggleAllUI">
			<Anchor relative="$parent"/>
			<Shortcut val="#Hotkey - Toggle all UI"/>
			<AcceptsMouse val="false"/>
			<Visible val="false"/>
			<Handle val="ToggleAllUI"/>
		</Frame>
		<Frame type="ToggleControl" name="ToggleUI">
			<Anchor relative="$parent"/>
			<Shortcut val="#Hotkey - Toggle UI"/>
			<AcceptsMouse val="false"/>
			<Visible val="false"/>
			<Handle val="ToggleUI"/>
		</Frame>
			
		<Animation name="AllUiToggle">
			<Event event="HideAll" action="DirectionForward,Play"/>
			<Event event="ShowAll" action="DirectionReverse,Play"/>
			
			<Controller type="Anchor" end="Pause" side="Top" relative="true" frame="UIContainer">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Left" relative="true" frame="UIContainer">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Top" relative="true" frame="WorldPanel/UnitStatusPanel">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Left" relative="true" frame="WorldPanel/UnitStatusPanel">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Top" relative="true" frame="OverlayImage">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Left" relative="true" frame="OverlayImage">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Top" relative="true" frame="FadeImage">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Left" relative="true" frame="FadeImage">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Top" relative="true" frame="FadeImagePlayer">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
			<Controller type="Anchor" end="Pause" side="Left" relative="true" frame="FadeImagePlayer">
				<Key type="Curve" time="0" value="0" inout="Fast"/>
				<Key type="Curve" time="0.01" value="9999" inout="Fast"/>
			</Controller>
		</Animation>
		<Animation name="SomeUiToggle">
			<Event event="HideSome" action="DirectionForward,Play"/>
			<Event event="ShowSome" action="DirectionReverse,Play"/>
			
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/MinimapPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/FullScreenUpperContainer/ObserverHeroOverviewPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<!-- spawns my talent notifications <Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/ObserverHeroOverviewPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>-->
			
			<!-- to hide the white vertical lines of core health bars because ENGINE BUG causes those to not disappear -->
			<Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/ObserverHeroOverviewPanel/ObserverTopPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			
			
<!-- bugs with hidechat feature		<Controller type="Fade" end="Pause" frame="UIContainer/FullScreenUpperContainer/ChatDisplay">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller> -->
			<Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/ChatDisplay">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/FullScreenUpperContainer/TeamPanel/TeamScorePanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/TeamPanel/TeamScorePanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<!--<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/LeaderPanelBottom">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/LeaderPanelBottom">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>-->
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/SelectionUnitStatusPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
<!--				<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/SelectionUnitStatusPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller> -->
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/SelectionUnitStatusPanel/UnitStatusFrame0/HealthEnergyContainer">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/CommandPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
<!--bugs			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/CommandPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller> -->
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/InventoryPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/InventoryPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/TopPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/TopPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsoleUIContainer/MapMechanicPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="UIContainer/ConsoleUIContainer/MapMechanicPanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/FullscreenUpperContainer/ObserverPanelMovingContainer">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
<!--				<Controller type="Visibility" end="Pause" frame="UIContainer/FullscreenUpperContainer/ObserverPanelMovingContainer">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>-->
			<Controller type="Fade" end="Pause" frame="UIContainer/FullScreenUpperContainer/InterfaceControl">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<!--Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/InterfaceControl">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>-->
			<!--<Controller type="Visibility" end="Pause" frame="UIContainer/FullScreenUpperContainer/NotificationsPanel/NotificationsContainer">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>-->
			<Controller type="Fade" end="Pause" frame="UIContainer/FullScreenUpperContainer/NotificationsPanel/NotificationsContainer">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="$ObserverHeroSpecificBackgroundStatusContainer">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="$HeroSpecificStatusContainer">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="$KillLogPanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Fade" end="Pause" frame="UIContainer/ConsolePanel">
				<Key type="Curve" time="0" value="255"/>
				<Key type="Curve" time="0.2" value="0"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="$GameUI_HeroTalentTreeSelectionPanel/CustomBackgroundImage">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="$GameUI_HeroTalentTreeSelectionPanel/TalentTreePanel">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="$LeftTeamXpBar">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
			<Controller type="Visibility" end="Pause" frame="$RightTeamXpBar">
				<Key type="Bool" time="0" value="true"/>
				<Key type="Bool" time="0" value="false"/>
				<Key type="Bool" time="0.2" value="false"/>
			</Controller>
		</Animation>

		<StateGroup name="UiVisibilityController">
			<DefaultState val="Show"/>
			<State name="HideSome">
				<When type="Property" frame="ToggleAllUI" visible="false"/>
				<When type="Property" frame="ToggleUI" visible="true"/>
				<Action type="SendEvent" frame="$this" event="ShowAll"/>
				<Action type="SendEvent" frame="$this" event="HideSome"/>
			</State>
			<State name="HideAll">
				<When type="Property" frame="ToggleAllUI" visible="true"/>
				<Action type="SendEvent" frame="$this" event="HideSome"/>
				<Action type="SendEvent" frame="$this" event="HideAll"/>
			</State>
			<State name="Show">
				<Action type="SendEvent" frame="$this" event="ShowSome"/>
				<Action type="SendEvent" frame="$this" event="ShowAll"/>
			</State>
		</StateGroup>
		
		<!-- TODO: needs to do something else than width... width doesn't seem to change anything for some reason
		<Frame type="AspectRatioFrame" name="AspectRatioControl">
			<Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
			<Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
			<Height val="10"/>
			<Width val="10"/>
			<MinVisibleAspectRatio val="1.5"/>
			<Handle val="AspectRatioControl"/>

			<StateGroup name="AspectRatioStates">
				<State name="Not4x3">
					<When type="Property" visible="True"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview1" width="128"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview2" width="128"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview3" width="128"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview4" width="128"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview5" width="128"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview1" width="128"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview2" width="128"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview3" width="128"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview4" width="128"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview5" width="128"/>
				</State>
				<State name="Is4x3">
					<When type="Property" visible="False"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview1" width="64"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview2" width="64"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview3" width="64"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview4" width="64"/>
					<Action type="SetProperty" frame="$Team1HeroOverview/HeroOverview5" width="64"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview1" width="64"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview2" width="64"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview3" width="64"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview4" width="64"/>
					<Action type="SetProperty" frame="$Team2HeroOverview/HeroOverview5" width="64"/>
				</State>
			</StateGroup>
			
			<Frame type="Image" name="QQQ">
				<Anchor relative="$parent"/>
				<Texture val="_Assets\Textures\QQQ.dds"/>
				<Alpha val="128"/>
			</Frame>
		</Frame>-->
		
		
		
	</Frame>
	
	
	
	<!-- MAP MECHANIC UI changes -->
	<!-- Garden of Terror - seed-status-alternating animation -->
	<!--
	<Frame type="Frame" name="GameUI/UIContainer/ConsoleUIContainer/MapMechanicPanel/GardenOfTerrorPanel/SeedsFrame" file="GameUI">
		<Frame type="Label" name="Team1StatusLabel">
			<Animation name="Ahlimation">
				<Event event="OnShown" action="Play"/>
				<Event event="OnHidden" action="Stop"/>
				
				<Controller type="Fade" end="Loop">
					<Key type="Curve" time="0" value="0"/>
					<Key type="Curve" time=".3" value="0" inout="Fast"/>
					<Key type="Curve" time=".5" value="255" inout="Slow"/>
					<Key type="Curve" time="1" value="255" inout="Slow"/>
					<Key type="Curve" time="1.6" value="0" inout="Fast"/>
				</Controller>
				
				<Controller type="Fade" end="Loop" frame="$parent/Team1SeedCounter">
					<Key type="Curve" time="0" value="255"/>
					<Key type="Curve" time="0.2" value="255" inout="Slow"/>
					<Key type="Curve" time="0.8" value="0" inout="Fast"/>
					<Key type="Curve" time="1.1" value="0" inout="Fast"/>
					<Key type="Curve" time="1.3" value="255" inout="Slow"/>
					<Key type="Curve" time="1.6" value="255"/>
				</Controller>
				
			</Animation>
		</Frame>
		<Frame type="Label" name="Team2StatusLabel">
			<Animation name="Ahlimation">
				<Event event="OnShown" action="Play"/>
				<Event event="OnHidden" action="Stop"/>
				
				<Controller type="Fade" end="Loop">
					<Key type="Curve" time="0" value="0"/>
					<Key type="Curve" time=".3" value="0" inout="Fast"/>
					<Key type="Curve" time=".5" value="255" inout="Slow"/>
					<Key type="Curve" time="1" value="255" inout="Slow"/>
					<Key type="Curve" time="1.6" value="0" inout="Fast"/>
				</Controller>

				<Controller type="Fade" end="Loop" frame="$parent/Team2SeedCounter">
					<Key type="Curve" time="0" value="255"/>
					<Key type="Curve" time="0.2" value="255" inout="Slow"/>
					<Key type="Curve" time="0.8" value="0" inout="Fast"/>
					<Key type="Curve" time="1.1" value="0" inout="Fast"/>
					<Key type="Curve" time="1.3" value="255" inout="Slow"/>
					<Key type="Curve" time="1.6" value="255"/>
				</Controller>
				
			</Animation>
		</Frame>
		<Frame type="Label" name="Team1SeedCounter">
			<Animation name="Ahlimation">
				<Event event="OnHidden" action="Reset,Play"/>
				
				<Controller type="Visibility" end="Pause">
					<Key type="Bool" time="0" value="true"/>
				</Controller>
			</Animation>
		</Frame>
		<Frame type="Label" name="Team2SeedCounter">
			<Animation name="Ahlimation">
				<Event event="OnHidden" action="Reset,Play"/>
				
				<Controller type="Visibility" end="Pause">
					<Key type="Bool" time="0" value="true"/>
				</Controller>
			</Animation>
		</Frame>
		
	</Frame> -->
	
	
	<Frame type="Frame" name="GameUI/UIContainer/ConsoleUIContainer/MapMechanicPanel/DragonShirePanel/DragonModeFrame" file="GameUI">
		<Frame type="Frame" name="DragonShirePilotIconPosition">
			<Anchor side="Bottom" relative="$parent/DragonHealthBar/HealthLabel" pos="Max" offset="0"/>
			<Anchor side="Right" relative="$parent/DragonHealthBar/HealthLabel" pos="Min" offset="-55"/>
			<Width val="144"/>
			<Height val="75"/>
			<Handle val="DragonShirePilotIconPosition"/>
		</Frame>
		<!-- @Override -->
		<Frame type="Label" name="DragonInfoLabel">
			<Visible val="false"/>
		</Frame>
	</Frame>
	
	
	
	<!-- FIX: KillLog colors on player vision changes -->
	<!-- TODO selected-unit-player-vision-support, non 5vs5 -->
	<Frame type="Frame" name="Item" file="KillLog">
		<!-- DEBUG CODE -->
		<StateGroup name="SrcColorDebug">
			<DefaultState val="Dflt"/>
			<State name="Blue">
				<When type="AnimationState" SrcColor="Blue"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG3" text="src_blue"/>
			</State>
			<State name="Red">
				<When type="AnimationState" SrcColor="Red"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG3" text="src_red"/>
			</State>
			<State name="Purple">
				<When type="AnimationState" SrcColor="Purple"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG3" text="src_purple"/>
			</State>
			<State name="Dflt">
				<Action type="SetProperty" frame="$AHLI_DEBUG3" text="src_dflt"/>
			</State>
		</StateGroup>
		<StateGroup name="tgtColorDebug">
			<DefaultState val="Dflt"/>
			<State name="Blue">
				<When type="AnimationState" TgtColor="Blue"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG4" text="tgt_blue"/>
			</State>
			<State name="Red">
				<When type="AnimationState" TgtColor="Red"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG4" text="tgt_red"/>
			</State>
			<State name="Dflt">
				<Action type="SetProperty" frame="$AHLI_DEBUG4" text="tgt_dflt"/>
			</State>
		</StateGroup>
		<StateGroup name="visionPulldownIndexDebug">
			<DefaultState val="Dflt"/>
			<State name="0">
				<When type="Property" frame="$VisionPulldown" selectedIndex="0"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_0"/>
			</State>
			<State name="1">
				<When type="Property" frame="$VisionPulldown" selectedIndex="1"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_1"/>
			</State>
			<State name="2">
				<When type="Property" frame="$VisionPulldown" selectedIndex="2"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_2"/>
			</State>
			<State name="3">
				<When type="Property" frame="$VisionPulldown" selectedIndex="3"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_3"/>
			</State>
			<State name="4">
				<When type="Property" frame="$VisionPulldown" selectedIndex="4"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_4"/>
			</State>
			<State name="5">
				<When type="Property" frame="$VisionPulldown" selectedIndex="5"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_5"/>
			</State>
			<State name="6">
				<When type="Property" frame="$VisionPulldown" selectedIndex="6"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_6"/>
			</State>
			<State name="7">
				<When type="Property" frame="$VisionPulldown" selectedIndex="7"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_7"/>
			</State>
			<State name="8">
				<When type="Property" frame="$VisionPulldown" selectedIndex="8"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_8"/>
			</State>
			<State name="9">
				<When type="Property" frame="$VisionPulldown" selectedIndex="9"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_9"/>
			</State>
			<State name="10">
				<When type="Property" frame="$VisionPulldown" selectedIndex="10"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_10"/>
			</State>
			<State name="11">
				<When type="Property" frame="$VisionPulldown" selectedIndex="11"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_11"/>
			</State>
			<State name="12">
				<When type="Property" frame="$VisionPulldown" selectedIndex="12"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_12"/>
			</State>
			<State name="13">
				<When type="Property" frame="$VisionPulldown" selectedIndex="13"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_13"/>
			</State>
			<State name="14">
				<When type="Property" frame="$VisionPulldown" selectedIndex="14"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_14"/>
			</State>
			<State name="15">
				<When type="Property" frame="$VisionPulldown" selectedIndex="15"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_15"/>
			</State>
			<State name="16">
				<When type="Property" frame="$VisionPulldown" selectedIndex="16"/>
				<Action type="SetProperty" frame="$AHLI_DEBUG5" text="vi_16"/>
			</State>
			<State name="Dflt">
				<Action type="SetProperty" frame="$AHLI_DEBUG4" text="vi_dflt"/>
			</State>
		</StateGroup>

		<Frame type="Frame" name="SrcPortrait">
			<StateGroup name="Colors">
				<DefaultState val="Purple"/>
				<!-- @Override -->
				<State name="Blue"><!-- blue & not blue & not in red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<!-- @Override -->
				<State name="Red"><!-- red & not red & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="Blue2"><!-- red & red & not red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue2"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="Red2"><!-- blue & blue & not red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red2"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="Blue3"><!-- red & red & not red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue3"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="Red3"><!-- blue & blue & not red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red3"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="Blue4"><!-- blue & blue & red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue4"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="Red4"><!-- red & red & red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red4"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="Blue5"><!-- blue & not blue & not in red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue5"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="Red5"><!-- red & not red & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red5"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="Blue6"><!-- red & not red & in red player vision => blue -->
					<When type="AnimationState" frame="$parent" SrcColor="Red"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_blue6"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="Red6"><!-- blue & not blue & in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Blue"/>
					<When type="AnimationState" frame="$parent" operator="NotEqual" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_red6"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<!-- @Override -->
				<State name="Purple"><!-- purple & blue & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Purple"/>
					<When type="AnimationState" frame="$parent" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Purple"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_purple_red"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="PurpleRed2"><!-- purple & blue & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Purple"/>
					<When type="AnimationState" frame="$parent" TgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Purple"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_purple_red2"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetEnemyColor"/>
				</State>
				<State name="PurpleBlue"><!-- purple & blue & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Purple"/>
					<When type="AnimationState" frame="$parent" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Purple"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_purple_blue"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
				<State name="PurpleBlue2"><!-- purple & blue & not in red player vision => red -->
					<When type="AnimationState" frame="$parent" SrcColor="Purple"/>
					<When type="AnimationState" frame="$parent" TgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Purple"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG" text="s_purple_blue2"/>
					<Action type="SendEvent" frame="$parent/BackgroundCutscene" event="SetAllyColor"/>
				</State>
			</StateGroup>
		</Frame>
		
		<StateGroup name="CutsceneColor">
			<DefaultState val="None"/>
			<!-- @Override -->
			<State name="None">
				<When type="StateGroup" frame="BackgroundCutscene" CutsceneStatus="Inactive"/>
			</State>
			<!-- @Override -->
			<State name="SetAlly">
				<When type="AnimationState" SrcColor="Blue"/>
				<Action type="SetProperty" frame="$GameUI" visible="true"/>
			</State>
			<!-- @Override -->
			<State name="SetEnemy">
				<When type="AnimationState" SrcColor="Red"/>
				<Action type="SetProperty" frame="$GameUI" visible="true"/>
			</State>
			<!-- @Override -->
			<State name="SetNeutralToEnemy">
				<When type="AnimationState" SrcColor="Purple"/>
				<When type="AnimationState" TgtColor="Red"/>
				<Action type="SetProperty" frame="$GameUI" visible="true"/>
			</State>
			<!-- @Override -->
			<State name="SetNeutralToAlly">
				<When type="AnimationState" SrcColor="Purple"/>
				<When type="AnimationState" TgtColor="Blue"/>
				<Action type="SetProperty" frame="$GameUI" visible="true"/>
			</State>
		</StateGroup>
		
		<Frame type="Frame" name="TgtPortrait0">
			<StateGroup name="Colors">
				<DefaultState val="Purple"/>
				<!-- @Override -->
				<State name="Red"><!-- red tgtColor AND not red team vision => red -->
					<When type="AnimationState" frame="$parent" tgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="red"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Red"/>
				</State>
				<!-- @Override -->
				<State name="Blue"><!-- blue tgtColor AND not red team vision => blue -->
					<When type="AnimationState" frame="$parent" tgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="6"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="blue"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Blue"/>
				</State>
				<State name="Red2"><!-- red tgtColor AND not red team vision => red -->
					<When type="AnimationState" frame="$parent" tgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="red2"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Red"/>
				</State>
				<State name="Blue2"><!-- blue tgtColor AND not red team vision => blue -->
					<When type="AnimationState" frame="$parent" tgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="10"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="blue2"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Blue"/>
				</State>
				<State name="RedOnRedTeamVision"><!-- blue tgtColor AND red team vision => red -->
					<When type="AnimationState" frame="$parent" tgtColor="Blue"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/EnemyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Red"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="redOnRed"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Red"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Red"/>
				</State>
				<State name="BlueOnRedTeamVision"><!-- red tgtColor AND red team vision => blue -->
					<When type="AnimationState" frame="$parent" tgtColor="Red"/>
					<When type="Property" frame="$VisionPulldown" operator="GreaterThan" SelectedIndex="5"/>
					<When type="Property" frame="$VisionPulldown" operator="LessThan" SelectedIndex="11"/>
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/AllyColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="$AHLI_DEBUG2" text="blueOnRed"/>
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Blue"/>
				</State>
				<!-- @Override -->
				<State name="Purple"><!-- should never be visible => just use blue and make the image more transparent -->
					<Action type="SetProperty" frame="PortraitBorder" LightAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@AdditionalColor[0]}"/>
					<Action type="SetProperty" frame="PortraitBorder" DarkAdjustColor="{$ancestor[@name=KillLogPanel]/NexusColors/@Color}"/>
					<Action type="SetProperty" frame="PortraitBorder" texture="@UI/HUD_KillLog_Portrait_Border_Blue"/>
					<Action type="SetProperty" frame="PortraitBorder" alpha="64"/>
					<!--<Action type="SetProperty" frame="$AHLI_DEBUG2" text="purple"/>-->
					<Action type="SetState" frame="StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon1/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon2/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon3/StrikethroughFrame" group="Colors" state="Blue"/>
					<Action type="SetState" frame="QuestResetIcon4/StrikethroughFrame" group="Colors" state="Blue"/>
				</State>
			</StateGroup>
			<!-- actions added to Colors stategroup... replaced these with a bogus action -->
			<StateGroup name="StrikeColors">
				<!-- @Override -->
				<State name="Red">
					<Action type="SetProperty" frame="$GameUI" visible="true"/>
				</State>
				<!-- @Override -->
				<State name="Blue">
					<Action type="SetProperty" frame="$GameUI" visible="true"/>
				</State>
			</StateGroup>
		</Frame>
		<Frame type="Frame" name="TgtPortrait1" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait2" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait3" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait4" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait5" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait6" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait7" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait8" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait9" template="_Ahli/Item/TgtPortrait0"/>
		<Frame type="Frame" name="TgtPortrait10" template="_Ahli/Item/TgtPortrait0"/>
		
		<!-- failed attempt to fix first slot taking up space when not shown (it is used after going into player vision and back to everyone vision)
		<Frame type="Frame" name="SrcPortrait">
			<Animation name="OnShown">
				<Event event="OnShown" action="DirectionForward,Play"/>
				<Event event="OnHidden" action="DirectionReverse,Play"/>
				<Controller type="Dimension" dimension="Height" relative="False" percentage="True" end="Pause" frame="$parent">
					<Key type="Curve" time="0" value="0"/>
					<Key type="Curve" time=".1" value="100"/>
				</Controller>
			</Animation>
		</Frame>-->
		<!--<CollapseLayout val="true"/> breaks the source portrait -->
	</Frame>
	
	<!-- edit pause notifications -->
	<Frame type="SystemAlertListBoxItem" name="SystemAlertListBoxItemTemplate" file="SystemAlertPanel">
		<!-- hide original background image -->
		<Frame type="Image" name="BackgroundImage">
			<Visible val="false"/>
		</Frame>
		<!-- center text label -->
		<Frame type="Label" name="TextLabel">
			<Anchor side="Top" relative="$parent" pos="Min" offset="35"/>
			<Anchor side="Left" relative="$parent" pos="Min" offset="80"/>
			<Anchor side="Bottom" relative="$parent" pos="Max" offset="-35"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="-80"/>
		</Frame>
		<!-- new close button look -->
		<Frame type="Button" name="CloseButton" template="StandardTemplates/SmallPanelCloseButtonTemplate">
			<Anchor side="Top" relative="$parent" pos="Min" offset="15"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="-38"/>
		</Frame>
		
		<!-- new background -->
		<Frame type="Frame" name="AhliBorder">
			<Anchor side="Top" relative="$parent" pos="Min" offset="9"/>
			<Anchor side="Bottom" relative="$parent" pos="Max" offset="-12"/>
			<Anchor side="Left" relative="$parent" pos="Min" offset="29"/>
			<Anchor side="Right" relative="$parent" pos="Max" offset="-28"/>
			<RenderPriority val="100"/>
			
			<Frame type="BlurFrame" name="BlurBackground">
				<Anchor relative="$parent" offset="-9"/>
				<BlurAmount val="0.8"/>
				<Visible val="True"/>
				
				<Frame type="Image" name="LowImage">
					<Anchor relative="$parent"/>
					<TextureType val="Normal"/>
					<Texture val="@UI/Storm_Generic_Background_Low"/>
				</Frame>
			</Frame>

			<Frame type="Image" name="BottomBorder">
				<Anchor relative="$parent/BlurBackground"/>
				<Texture val="@UI/Storm_UI_Tooltip_BottomBorder"/>
				<TextureType val="NineSlice"/>
				<Alpha val="165"/>
			</Frame>

			<Frame type="Image" name="TipGradient">
				<Anchor relative="$parent/BlurBackground"/>
				<Texture val="@UI/Storm_UI_Tooltip_OverlayGradient"/>
				<Alpha val="101"/>
			</Frame>

			<Frame type="Image" name="TipEdgeBurn">
				<Anchor relative="$parent/BlurBackground"/>
				<Texture val="@UI/Storm_UI_Tooltip_AddBurn"/>
				<BlendMode val="Add"/>
				<TextureType val="Normal"/>
				<Alpha val="100"/>
			</Frame>
			
			<Frame type="Image" name="TopBorder">
				<Anchor relative="$parent"/>
				<Texture val="@UI/Storm_UI_Tooltip_TopBorder"/>
				<TextureType val="NineSlice"/>
				<Alpha val="255"/>
			</Frame>
		</Frame>
		
	</Frame>
	
</Desc>
