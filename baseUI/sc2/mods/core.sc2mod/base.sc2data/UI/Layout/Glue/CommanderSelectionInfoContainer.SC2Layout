<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>
    
    <!-- 
    
    Commander Info Container
    
    -->
    
    <Frame type="Frame" name="CommanderInfoContainerTemplate">
        <Width val="800"/>
        <Height val="162"/>
        
        <Frame type="Image" name="TraitIcon">
            <Anchor side="Top" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Width val="108"/>
            <Height val="108"/>
            <ImageMaskTexture val="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Mask"/>
            <Texture val="{$CoopStandardGlue_CommanderSelectionPanel/@Commander[TraitIcon]}"/>
        </Frame>
        
        <Frame type="Image" name="LevelLabelBG">
            <Anchor side="Top" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Texture val="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Normal"/>
        </Frame>
        
        <Frame type="Image" name="MaxLevelIcon">
            <Anchor side="Top" relative="$parent/LevelLabel" pos="Mid" offset="-1"/>
            <Anchor side="Bottom" relative="$parent/LevelLabel" pos="Mid" offset="-1"/>
            <Anchor side="Left" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Width val="140"/>
            <Height val="140"/>
            <ImageMaskTexture val="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Mask"/>
            <Texture val="@UI/SC2_UI_Coop_CommanderIcon_MaxLevel"/>
            <Visible val="false"/>
        </Frame>
        
        <Frame type="Label" name="LevelLabel">
            <Anchor side="Top" relative="$parent" pos="Min" offset="61"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="121"/>
            <Width val="100"/>
            <Style val="@Coop_CommanderLevel"/>
            <Text val="{$CoopStandardGlue_CommanderSelectionPanel/@Level}"/>
        </Frame>

        <Frame type="Label" name="NameLabel">
            <Anchor side="Top" relative="$parent/LevelLabel" pos="Mid" offset="-12"/>
            <Anchor side="Bottom" relative="$parent/LevelLabel" pos="Mid" offset="-12"/>
            <Anchor side="Left" relative="$parent/LevelProgressBar" pos="Max" offset="19"/>
            <Style val="@Coop_CommanderTitle"/>
            <Text val="{$CoopStandardGlue_CommanderSelectionPanel/@Commander[Name]}"/>
        </Frame>

        <Frame type="Label" name="FluffLabel">
            <Anchor side="Top" relative="$parent/NameLabel" pos="Max" offset="-3"/>
            <Anchor side="Left" relative="$parent/LevelProgressBar" pos="Max" offset="19"/>
            <Style val="@Coop_CommanderFluffText"/>
            <Text val="{$CoopStandardGlue_CommanderDescriptionLabel/@Text}"/>
        </Frame>

        <Frame type="ProgressBar" name="LevelProgressBar">
            <Anchor side="Top" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/LevelLabel" pos="Mid" offset="0"/>
            <Width val="128"/>
            <Height val="128"/>
            <Color val="FFFFFF"/>
            <ColorStep val="FFFFFF"/>
            <UseFillContainer val="False"/>
            <Circular val="True"/>
            <CircularStart val="0"/>
            <CircularEndOffset val="360"/>
            <!-- <Color val="##StandardProgressBorder"/>
            <ColorStep val="##StandardProgressFill"/> -->
            <MaxValue val="{$CoopStandardGlue_CommanderSelectionPanel/@TotalXP}"/>
            <Value val="{$CoopStandardGlue_CommanderSelectionPanel/@CurrentXP}"/>
            
            <Frame type="Image" name="BorderImage">
                <Anchor relative="$parent"/>
                <Texture val="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Border_Normal"/>
            </Frame>
            
            <Frame type="Frame" name="FillImageContainer">
                <Anchor relative="$parent"/>
                
                <Frame type="Image" name="FillImage">
                    <Anchor relative="$parent"/>
                    <Texture val="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Fill_Normal"/>
                    <TextureType val="Circular"/>
                </Frame>
            </Frame>
            
            <Frame type="Image" name="MaxLevelFillImage">
                <Anchor relative="$parent"/>
                <Visible val="False"/>
                <Texture val="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Fill_Max"/>
            </Frame>
        </Frame>
        
        <StateGroup name="MaxLevelStateGroup">
            <DefaultState val="NotMaxLevelState"/>
            
            <State name="PrestigeMaxLevelState">
                <When type="AnimationState" frame="$CoopStandardGlue_CommanderSelectionPanel" CommanderMaxLevel="MaxLevel"/> 
                <When type="Property" frame="$Coop_MasteryLevelFrame" operator="GreaterThanOrEqual" MasteryLevel="1000"/>
                <Action type="SetProperty" frame="LevelLabelBG" texture="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Max"/>
                <Action type="SetProperty" frame="LevelLabel" Visible="false"/>
                <Action type="SetProperty" frame="LevelProgressBar/BorderImage" texture="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Border_Max"/>
                <Action type="SetProperty" frame="LevelProgressBar/FillImageContainer/FillImage" visible="false"/>
                <Action type="SetProperty" frame="LevelProgressBar/MaxLevelFillImage" visible="True"/>
                <Action type="SetProperty" frame="MaxLevelIcon" Visible="true"/>
            </State>
            
            <State name="MasteryMaxLevelState">
                <When type="AnimationState" frame="$CoopStandardGlue_CommanderSelectionPanel" CommanderMaxLevel="MaxLevel"/> 
                <When type="Property" frame="$Coop_MasteryLevelFrame" operator="GreaterThanOrEqual" MasteryLevel="91"/>
                <Action type="SetProperty" frame="LevelLabel" style="@Coop_CommanderLevel_Max"/>
                <Action type="SetProperty" frame="LevelLabelBG" texture="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Max"/>
                <Action type="SetProperty" frame="LevelLabel" Visible="true"/>
                <Action type="SetProperty" frame="LevelProgressBar/BorderImage" texture="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Border_Max"/>
                <Action type="SetProperty" frame="LevelProgressBar/FillImageContainer/FillImage" visible="false"/>
                <Action type="SetProperty" frame="LevelProgressBar/MaxLevelFillImage" visible="True"/>
                <Action type="SetProperty" frame="MaxLevelIcon" Visible="false"/>
            </State>
            
            <State name="MaxLevelState">
                <When type="AnimationState" frame="$CoopStandardGlue_CommanderSelectionPanel" CommanderMaxLevel="MaxLevel"/> 
                <Action type="SetProperty" frame="LevelLabel" style="@Coop_CommanderLevel_Max"/>
                <Action type="SetProperty" frame="LevelLabelBG" texture="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Max"/>
                <Action type="SetProperty" frame="LevelLabel" Visible="true"/>
                <Action type="SetProperty" frame="LevelProgressBar/BorderImage" texture="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Border_Max"/>
                <Action type="SetProperty" frame="LevelProgressBar/FillImageContainer/FillImage" visible="false"/>
                <Action type="SetProperty" frame="LevelProgressBar/MaxLevelFillImage" visible="True"/>
                <Action type="SetProperty" frame="MaxLevelIcon" Visible="false"/>
            </State>

            <State name="NotMaxLevelState">
                <When type="AnimationState" frame="$CoopStandardGlue_CommanderSelectionPanel" CommanderMaxLevel="NotMaxLevel"/> 
                <Action type="SetProperty" frame="LevelLabel" style="@Coop_CommanderLevel"/>
                <Action type="SetProperty" frame="LevelLabelBG" texture="@UI/SC2_UI_Coop_CommanderIcon_Bubble_Normal"/>
                <Action type="SetProperty" frame="LevelLabel" Visible="true"/>
                <Action type="SetProperty" frame="LevelProgressBar/BorderImage" texture="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Border_Normal"/>
                <Action type="SetProperty" frame="LevelProgressBar/FillImageContainer/FillImage" texture="@UI/SC2_UI_Coop_CommanderIcon_CircularProgress_Fill_Normal"/>
                <Action type="SetProperty" frame="LevelProgressBar/MaxLevelFillImage" visible="False"/>
                <Action type="SetProperty" frame="MaxLevelIcon" Visible="false"/>
            </State>
        </StateGroup>

        <!-- TODO: Whatever you want to display race with these animation events -->
        <Frame type="Frame" name="RacePanel">
            <Anchor relative="$parent"/>

            <Animation name="Race">
                <Event event="Terr" action="Reset" frame="$parent"/>
                <Event event="Zerg" action="Reset" frame="$parent"/>
                <Event event="Prot" action="Reset" frame="$parent"/>

                <Controller type="Visibility" end="Pause">
                    <Key type="Bool" time="0" value="true"/>
                </Controller>
            </Animation>
        </Frame>
    </Frame>

</Desc>