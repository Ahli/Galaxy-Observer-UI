<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>

    <Constant name="BadgeColor_Tier0" val="40c0f0"/>
    <Constant name="BadgeColor_Tier1" val="419e2d"/>
    <Constant name="BadgeColor_Tier2" val="008070"/>
    <Constant name="BadgeColor_Tier3" val="600090"/>
    <Constant name="BadgeColor_Tier4" val="a03030"/>
    <Constant name="BadgeColor_Tier5" val="ffd000"/>

    <Frame type="AscensionFrame" name="AscensionBadgeTemplate">
        <!-- Using relative anchoring since Avatar Frame dimensions might be overriden -->
        <Anchor side="Top" relative="$parent" pos=".795" offset="0"/>
        <Anchor side="Bottom" relative="$parent" pos=".795" offset="0"/>
        <Anchor side="Left" relative="$parent" pos=".26" offset="0"/>
        <Anchor side="Right" relative="$parent" pos=".26" offset="0"/>
        
        <Frame type="TextFormatFrame" name="ImagePathFormatter">
            <Anchor relative="$parent"/>
            <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Border_C%1%_T%0%_Lg.dds"/>
            <Replacement val="{$parent/@AscensionTier}" index="0"/>
            <Replacement val="{$parent/@AscensionCycle}" index="1"/>
        </Frame>
    </Frame>
    
    <Frame type="AscensionFrame" name="AscensionBigBadgeTemplate">
        <Width val="520"/>
        <Height val="520"/>
        
        <Frame type="Frame" name="BadgeContainer">
            <Anchor relative="$parent"/>

            <Frame type="TextFormatFrame" name="BadgeImagePathFormatter">
                <Anchor relative="$parent"/>
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Frame_C%0%_T%1%.dds"/>
                <Replacement val="{$ancestor[@type=AscensionFrame]/@AscensionCycle}" index="0"/>
                <Replacement val="{$ancestor[@type=AscensionFrame]/@AscensionTier}" index="1"/>
                <Replacement val="{$ancestor[@type=AscensionFrame]/@AscensionRank}" index="2"/>
            </Frame>

            <Frame type="TextFormatFrame" name="ElementPathFormatter" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/BadgeImagePathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Element_T%1%.dds"/>
            </Frame>

            <Frame type="TextFormatFrame" name="WreathPathFormatter" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/BadgeImagePathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Wreath_R%2%_T%1%.dds"/>
            </Frame>

            <Frame type="TextFormatFrame" name="GemPathFormatter" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/BadgeImagePathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Gem_T%1%.dds"/>
            </Frame>

            <Frame type="Image" name="BadgeImage">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                <Width val="{$parent/@Width}"/>
                <Height val="{$parent/@Height}"/>
                <Texture val="{$parent/BadgeImagePathFormatter/@Text}"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <Frame type="Image" name="ElementImage">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                <Width val="{$parent/@Width}"/>
                <Height val="{$parent/@Height}"/>
                <Texture val="{$parent/ElementPathFormatter/@Text}"/>
                <SubpixelRendering val="true"/>
                <Alpha val="0"/>
            </Frame>

            <Frame type="Image" name="WreathImage">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                <Width val="{$parent/@Width}"/>
                <Height val="{$parent/@Height}"/>
                <Texture val="{$parent/WreathPathFormatter/@Text}"/>
                <SubpixelRendering val="true"/>
            </Frame>
            
            <!-- Offset based on 520 size: 187 31  -58 -214 -->
            <Frame type="Image" name="GemL2Image">
                <Anchor side="Top" relative="$parent" pos="0.359615385" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="1.059615385" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="-0.111538462" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="0.588461538" offset="0"/>
                <Texture val="{$parent/GemPathFormatter/@Text}"/>
                <Visible val="false"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <!-- Offset based on 520 size: 187    31  214 58 -->
            <Frame type="Image" name="GemR2Image" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/GemL2Image">
                <Anchor side="Top" relative="$parent" pos="0.359615385" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="1.059615385" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="0.411538462" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="1.111538462" offset="0"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <!-- Offset based on 520 size: 237  81  -11 -167 -->
            <Frame type="Image" name="GemL1Image" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/GemL2Image">
                <Anchor side="Top" relative="$parent" pos="0.455769231" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="1.155769231" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="-0.021153846" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="0.678846154" offset="0"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <!-- Offset based on 520 size: 237   81  167 11 -->
            <Frame type="Image" name="GemR1Image" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/GemL2Image">
                <Anchor side="Top" relative="$parent" pos="0.455769231" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="1.155769231" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="0.321153846" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="1.021153846" offset="0"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <!-- Offset based on 520 size: 167    167 -6  -6 -->
            <Frame type="Image" name="GemCenterImage" template="AscensionBadge/AscensionBigBadgeTemplate/BadgeContainer/GemL2Image">
                <Anchor side="Top" relative="$parent" pos="0.321153846" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="1.321153846" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="-0.002" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="0.998" offset="0"/>
                <SubpixelRendering val="true"/>
            </Frame>

            <Frame type="Image" name="LogoImage">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                <Width val="{$parent/@Width}"/>
                <Height val="{$parent/@Height}"/>
                <Texture val="Assets\Textures\Storm_UI_Badge_Ascension_ZeroLogo.dds"/>
                <SubpixelRendering val="true"/>
                <Visible val="false"/>
            </Frame>

            <Frame type="Image" name="MaxCapImage">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                <Width val="{$parent/@Width}"/>
                <Height val="{$parent/@Height}"/>
                <Texture val="Assets\Textures\Storm_UI_Badge_Ascension_Star_Cap.dds"/>
                <SubpixelRendering val="true"/>
                <Visible val="false"/>
            </Frame>

            <StateGroup name="OuterStarVisibility">
                <DefaultState val="Hide"/>
                <State name="Show1">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="4"/>
                    <Action type="SetProperty" frame="GemL2Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR2Image" visible="true"/>
                </State>
                <State name="Show2">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="5"/>
                    <Action type="SetProperty" frame="GemL2Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR2Image" visible="true"/>
                </State>
                <State name="Hide">
                    <Action type="SetProperty" frame="GemCenterImage" visible="false"/>
                </State>
            </StateGroup>

            <StateGroup name="MiddleStarVisibility">
                <DefaultState val="Hide"/>
                <State name="Show1">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="2"/>
                    <Action type="SetProperty" frame="GemL1Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR1Image" visible="true"/>
                </State>
                <State name="Show2">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="3"/>
                    <Action type="SetProperty" frame="GemL1Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR1Image" visible="true"/>
                </State>
                <State name="Show3">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="4"/>
                    <Action type="SetProperty" frame="GemL1Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR1Image" visible="true"/>
                </State>
                <State name="Show4">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="5"/>
                    <Action type="SetProperty" frame="GemL1Image" visible="true"/>
                    <Action type="SetProperty" frame="GemR1Image" visible="true"/>
                </State>
                <State name="Hide">
                    <Action type="SetProperty" frame="GemCenterImage" visible="false"/>
                </State>
            </StateGroup>

            <StateGroup name="CenterStarVisibility">
                <DefaultState val="Hide"/>
                <State name="Show1">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="1"/>
                    <Action type="SetProperty" frame="GemCenterImage" visible="true"/>
                </State>
                <State name="Show2">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="3"/>
                    <Action type="SetProperty" frame="GemCenterImage" visible="true"/>
                </State>
                <State name="Show3">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionCycle="5"/>
                    <Action type="SetProperty" frame="GemCenterImage" visible="true"/>
                </State>
                <State name="Hide">
                    <Action type="SetProperty" frame="GemCenterImage" visible="false"/>
                </State>
            </StateGroup>

            <StateGroup name="PerRankState">
                <State name="Rank1">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionRank="1"/>
                    <Action type="SetProperty" frame="ElementImage" alpha="64"/>
                </State>
                <State name="Rank2">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionRank="2"/>
                    <Action type="SetProperty" frame="ElementImage" alpha="128"/>
                </State>
                <State name="Rank3">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionRank="3"/>
                    <Action type="SetProperty" frame="ElementImage" alpha="255"/>
                </State>
            </StateGroup>

            <StateGroup name="LevelLogo">
                <State name="MaxLevel">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" IsAtMaxBadgeLevel="true"/>
                    <Action type="SetProperty" frame="MaxCapImage" visible="true"/>
                    <Action type="SetProperty" frame="$parent/ProgressionBadgeText" visible="false"/>
                </State>
                <State name="ZeroLevel">
                    <When type="Property" frame="$ancestor[@type=AscensionFrame]" AscensionLevel="0"/>
                    <Action type="SetProperty" frame="LogoImage" visible="true"/>
                    <Action type="SetProperty" frame="$parent/ProgressionBadgeText" visible="false"/>
                </State>
            </StateGroup>

        </Frame>

        <Frame type="Label" name="ProgressionBadgeText">
            <Anchor side="Top" relative="$parent/BadgeContainer" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/BadgeContainer" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/BadgeContainer" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/BadgeContainer" pos="Mid" offset="0"/>
            <Text val="{$parent/@AscensionLevel}"/>
            <SubpixelRendering val="true"/>
            <Style val="{$parent/FontStyle/@Text}"/>
        </Frame>

        <Frame type="TextFormatFrame" name="FontStyle">
            <Anchor relative="$parent"/>
            <FormatText val="AscensionBadge_Big_T%0%"/>
            <Replacement val="{$ancestor[@type=AscensionFrame]/@AscensionTier}" index="0"/>
        </Frame>

        <Frame type="TextFormatFrame" name="BadgeTierColor">
            <Anchor relative="$parent"/>            
            <FormatText val="%1%BadgeColor_Tier%0%"/>
            <Replacement val="{$ancestor[@type=AscensionFrame]/@AscensionTier}" index="0"/>
            <Replacement val="#" index="1"/>
        </Frame>
    </Frame>

    <Frame type="AscensionFrame" name="AscensionScoreBadgeTemplate" template="AscensionBadge/AscensionBigBadgeTemplate">
        <Width val="280"/>
        <Height val="280"/>
        <Frame type="TextFormatFrame" name="FontStyle">
            <FormatText val="AscensionBadge_Score_T%0%"/>
        </Frame>
    </Frame>

    <Frame type="AscensionFrame" name="AscensionProfileBadgeTemplate" template="AscensionBadge/AscensionBigBadgeTemplate">
        <Width val="120"/>
        <Height val="120"/>
        <Frame type="TextFormatFrame" name="FontStyle">
            <FormatText val="AscensionBadge_Profile_T%0%"/>
        </Frame>
    </Frame>

    <Frame type="AscensionFrame" name="AscensionRewardMapBadgeTemplate" template="AscensionBadge/AscensionBigBadgeTemplate">
        <Width val="68"/>
        <Height val="68"/>
        <Frame type="TextFormatFrame" name="FontStyle">
            <FormatText val="AscensionBadge_RewardMap_T%0%"/>
        </Frame>
        
        <Frame type="Frame" name="BadgeContainer">
            <Frame type="TextFormatFrame" name="BadgeImagePathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Frame_C%0%_T%1%_small.dds"/>
            </Frame>
            <Frame type="TextFormatFrame" name="ElementPathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Element_T%1%_small.dds"/>
            </Frame>
            <Frame type="TextFormatFrame" name="WreathPathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Wreath_R%2%_T%1%_small.dds"/>
            </Frame>
            <Frame type="TextFormatFrame" name="GemPathFormatter">
                <FormatText val="Assets\Textures\Storm_UI_Badge_Ascension_Gem_T%1%_small.dds"/>
            </Frame>
        </Frame>
    </Frame>
</Desc>
 