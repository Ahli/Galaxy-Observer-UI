<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>

    <Frame type="Frame" name="MatchHistoryPortraitTemplate" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
        <StateGroup name="HeroVisibility">
            <DefaultState val="NoHero"/>
            <State name="NoHero">
                <When type="Property" frame="PortraitContainer" Hero=""/>
                <Action type="SetProperty" frame="$this" visible="False"/>
            </State>
            <State name="HasHero">
                <When type="Property" frame="PortraitContainer" Hero="!"/>
            </State>
        </StateGroup>
    </Frame>

    <Frame type="ProfileMatchHistoryListBoxItem" name="ProfileMatchHistoryListBoxItemTemplate">
        <TooltipFrame val="MatchHistoryTooltip"/>
        <TooltipAnchorPosition val="MiddleRight"/>
        
        <Frame type="Image" name="StandardListBoxBackground">
            <Anchor relative="$parent" />
            <Texture val="@UI/Storm_UI_ProfileDialog_History_ItemRow_Background"/>
            <TextureType val="Nineslice"/>
        </Frame>

        <Frame type="Label" name="ModeLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="30"/>
            <Width val="162"/>
            <Style val="PlayerProfileHistoryLeft"/>
            <Text val="{$parent/@ModeName}"/>
        </Frame>

        <Frame type="Frame" name="HeroPortrait0" template="ProfileMatchHistoryPanel/MatchHistoryPortraitTemplate">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/ModeLabel" pos="Max" offset="10"/>
            <Frame type="HeroContainerFrame" name="PortraitContainer">
                <Hero val="{$ancestor[@type=ProfileMatchHistoryListBoxItem]/@Hero[0]}"/>
            </Frame>
        </Frame>
               
        <Frame type="Label" name="HeroLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/HeroPortrait0" pos="Max" offset="0"/>
            <Width val="206"/>
            <Style val="PlayerProfileHistoryLeft"/>
            <Text val="{$parent/@HeroName}"/>
        </Frame>
        
        <Frame type="Label" name="MapLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/HeroLabel" pos="Max" offset="10"/>
            <Width val="242"/>
            <Style val="PlayerProfileHistory"/>
            <Text val="{$parent/@MapName}"/>
        </Frame>
        
        <Frame type="Label" name="ResultLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/MapLabel" pos="Max" offset="10"/>
            <Width val="140"/>
            <Style val="PlayerProfileHistory"/>
            <Text val="{$parent/@ResultText}"/>
            
            <Animation name="Win">
                <Event event="Win" action="DirectionForward" frame="$parent"/>
                <Event event="Win" action="Play" frame="$parent"/>
                <Controller type="Style" end="Pause" style1="PlayerProfileHistory" style2="PlayerProfileHistoryWin">
                    <Key type="Curve" time="0" value="1.0" in="Step"/>
                </Controller>
            </Animation>

            <Animation name="Loss">
                <Event event="Loss" action="DirectionForward" frame="$parent"/>
                <Event event="Loss" action="Play" frame="$parent"/>
                <Controller type="Style" end="Pause" style1="PlayerProfileHistory" style2="PlayerProfileHistoryLoss">
                    <Key type="Curve" time="0" value="1.0" out="Step"/>
                </Controller>
            </Animation>

            <Animation name="Tie">
                <Event event="Tie" action="DirectionForward" frame="$parent"/>
                <Event event="Tie" action="Play" frame="$parent"/>
                <Controller type="Style" end="Pause" style1="PlayerProfileHistory" style2="PlayerProfileHistory">
                    <Key type="Curve" time="0" value="1.0" out="Step"/>
                </Controller>
            </Animation>

            <Animation name="Observer">
                <Event event="Observer" action="DirectionForward" frame="$parent"/>
                <Event event="Observer" action="Play" frame="$parent"/>
                <Controller type="Style" end="Pause" style1="PlayerProfileHistory" style2="PlayerProfileHistory">
                    <Key type="Curve" time="0" value="1.0" out="Step"/>
                </Controller>
            </Animation>
        </Frame>
        
        <Frame type="Label" name="TimeLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/ResultLabel" pos="Max" offset="10"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="-10"/>
            <Style val="PlayerProfileHistory"/>
            <Text val="{$parent/@TimeText}"/>
        </Frame>
    </Frame>
        
    <Frame type="ProfileMatchHistoryTooltip" name="ProfileMatchHistoryTooltipTemplate" template="StandardTooltip/StandardTooltip">
        <Frame type="PlayedGameFrame" name="PlayedGameFrame">
            <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
            <Anchor side="Bottom" relative="$this/ContentContainer/EnemyHeroPortrait1" pos="Min" offset="98"/>
            <Width val="318"/>
            <Frame type="Frame" name="ContentContainer">
                <Anchor side="Top" relative="$parent" pos="Min" offset="12"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="12"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="-12"/>
                <Anchor side="Bottom" relative="$parent" pos="Max" offset="-12"/>
        
                <Frame type="Image" name="MapPreviewImage">
                    <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent" pos="Min" offset="-48"/>
                    <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Max" offset="48"/>
                    <Texture val="{$ancestor[@type=PlayedGameFrame]/@MapImage}"/>
                    <Alpha val="51"/>
                </Frame>

                <Frame type="Label" name="MapNameLabel">
                    <Anchor side="Top" relative="$parent" pos="Min" offset="10"/>
                    <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                    <Text val="{$ancestor[@type=PlayedGameFrame]/@MapName}"/>
                    <Style val="PlayerProfileRecentMapName"/>
                </Frame> 
        
                <Frame type="Label" name="ModeNameLabel">
                    <Anchor side="Top" relative="$parent/MapNameLabel" pos="Max" offset="0"/>
                    <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                    <Text val="{$ancestor[@type=PlayedGameFrame]/@ModeName}"/>
                    <Style val="PlayerProfileRecentMapType"/>
                    <Alpha val="128"/>
                </Frame> 

                <Frame type="PlayedGamePlayerFrame" name="AllyHeroPortrait2" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/ModeNameLabel" pos="Max" offset="0"/>
                    <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="AllyHeroPortrait1" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/AllyHeroPortrait2" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent/AllyHeroPortrait2" pos="Min" offset="12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="AllyHeroPortrait0" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/AllyHeroPortrait1" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent/AllyHeroPortrait1" pos="Min" offset="12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="AllyHeroPortrait3" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/AllyHeroPortrait2" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent/AllyHeroPortrait2" pos="Max" offset="-12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="AllyHeroPortrait4" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/AllyHeroPortrait3" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent/AllyHeroPortrait3" pos="Max" offset="-12"/>
                </Frame>
                    
                <Frame type="Label" name="VsLabel">
                    <Anchor side="Top" relative="$parent/AllyHeroPortrait2" pos="Max" offset="2"/>
                    <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                    <Text val="@UI/VS"/>
                    <Style val="Storm_TopBar_TeamLevelVS"/>
            
                    <Animation name="Visibility">
                        <Event event="MissingData" action="DirectionReverse" frame="$parent/$parent"/>
                        <Event event="MissingData" action="Play" frame="$parent/$parent"/>
                        <Event event="HasData" action="DirectionForward" frame="$parent/$parent"/>
                        <Event event="HasData" action="Play" frame="$parent/$parent"/>

                        <Controller type="Visibility" end="Pause">
                            <Key type="Bool" time="0.00" value="false"/>
                            <Key type="Bool" time="0.01" value="true"/>
                        </Controller>
                    </Animation>
                </Frame>
                    
                <Frame type="PlayedGamePlayerFrame" name="EnemyHeroPortrait2" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/VsLabel" pos="Max" offset="0"/>
                    <Anchor side="Left" relative="$parent" pos="Mid" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Mid" offset="0"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="EnemyHeroPortrait1" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/EnemyHeroPortrait2" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent/EnemyHeroPortrait2" pos="Min" offset="12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="EnemyHeroPortrait0" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/EnemyHeroPortrait1" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent/EnemyHeroPortrait1" pos="Min" offset="12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="EnemyHeroPortrait3" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/EnemyHeroPortrait2" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent/EnemyHeroPortrait2" pos="Max" offset="-12"/>
                </Frame>
                <Frame type="PlayedGamePlayerFrame" name="EnemyHeroPortrait4" template="ProfileSummaryPanel/HeroPortraitSmallTemplate">
                    <Anchor side="Top" relative="$parent/EnemyHeroPortrait3" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent/EnemyHeroPortrait3" pos="Max" offset="-12"/>
                </Frame>
                <Frame type="PageSelectorButtonList" name="RoundSelector" template="ProfileSummaryPanel/RoundSelectorButtonListTemplate">
                    <Anchor side="Bottom" relative="$parent" pos="Max" offset="3"/>
                    <Anchor side="Left" relative="$parent" pos="Min" offset="42"/>
                    <Anchor side="Right" relative="$parent" pos="Max" offset="5"/>

                    <AutoIncrement val="True"/>
                    <AllowAutoPageWrap val="True"/>
                    <CycleDelay val="3000"/>

                    <Animation name="CenteringOdd">
                        <Event event="OnShown" frame="PageButton2" action="Reset, Play"/>

                        <Controller type="Anchor" end="Pause" side="Left" relative="false" pos="Min" frame="$this">
                            <Key type="Curve" time="0" value="18" out="Linear"/>
                        </Controller>
                    </Animation>

                    <Animation name="CenteringEven">
                        <Event event="OnHidden" frame="PageButton2" action="Reset, Play"/>

                        <Controller type="Anchor" end="Pause" side="Left" relative="false" pos="Min" frame="$this">
                            <Key type="Curve" time="0" value="42" out="Linear"/>
                        </Controller>
                    </Animation>
                </Frame>
            </Frame>
        </Frame>
    </Frame>

    <Frame type="ProfileMatchHistoryPanel" name="ProfileMatchHistoryPanelTemplate">
        
        <Animation name="Init">
            <Event event="OnShown" action="Restart"/>
            <Event event="OnShown" action="Play"/>
            <Controller type="Fade" end="Pause">
                <Key type="Curve" time="0" value="0" out="Fast"/>
                <Key type="Curve" time=".2" value="255" in="Slow"/>
            </Controller>
        </Animation>
        
        <Frame type="ProfileMatchHistoryTooltip" name="MatchHistoryTooltip" template="ProfileMatchHistoryPanel/ProfileMatchHistoryTooltipTemplate"/>

        <Frame type="Label" name="MatchHistoryLabel">
            <Anchor side="Top" relative="$parent" pos="Min" offset="20"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
            <Text val="@UI/ProfileDialog/MatchHistoryButton"/>
            <Style val="PlayerProfileSectionLabel"/>
        </Frame>

        <Frame type="Pulldown" name="MatchHistoryFilterPulldown" template="StandardTemplates/StandardPulldownTemplate">
            <Anchor side="Top" relative="$parent" pos="Min" offset="10"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="-55"/>
            <Width val="200"/>
        </Frame>

        <Frame type="Label" name="MatchHistoryFilterLabel">
            <Anchor side="Top" relative="$parent/MatchHistoryFilterPulldown" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/MatchHistoryFilterPulldown" pos="Mid" offset="0"/>
            <Anchor side="Right" relative="$parent/MatchHistoryFilterPulldown" pos="Min" offset="0"/>
            <Text val="@UI/GameFilter/Header"/>
            <Style val="StandardPulldownLabel"/>
        </Frame>
    
        <Frame type="ProfileMatchHistoryListBoxItem" name="ProfileMatchListBoxHistoryHeader" template="ProfileMatchHistoryPanel/ProfileMatchHistoryListBoxItemTemplate">
            <Anchor side="Top" relative="$parent" pos="Min" offset="75"/>
            <Anchor side="Left" relative="$parent/MatchHistoryLabel" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent/MatchHistoryListBox" pos="Max" offset="-9"/>
            <Height val="60"/>
            
            <AcceptsMouse val="false"/>
            
            <Frame type="Image" name="StandardListBoxBackground">
                <Texture val="@UI/Storm_Lobby_Item_Empty"/>
            </Frame>
                
            <Frame type="Label" name="ModeLabel">
                <Text val="@UI/ProfileDialog/MatchHistory/Mode"/>
            </Frame>

            <Frame type="Frame" name="HeroPortrait0">
                <Visible val="false"/>
            </Frame>

            <Frame type="Frame" name="HeroPortrait1">
                <Visible val="false"/>
            </Frame>

            <Frame type="Frame" name="HeroPortrait2">
                <Visible val="false"/>
            </Frame>
        
            <Frame type="Label" name="HeroLabel">
                <Anchor side="Left" relative="$parent/ModeLabel" pos="Max" offset="20"/>
                <Width val="260"/>
                <Text val="@UI/ProfileDialog/MatchHistory/Hero"/>
            </Frame>
        
            <Frame type="Label" name="MapLabel">
                <Text val="@UI/ProfileDialog/MatchHistory/Map"/>
            </Frame>
        
            <Frame type="Label" name="ResultLabel">
                <Text val="@UI/ProfileDialog/MatchHistory/Result"/>
            </Frame>
        
            <Frame type="Label" name="TimeLabel">
                <Text val="@UI/ProfileDialog/MatchHistory/Time"/>
            </Frame>
        </Frame>
            
        <Frame type="ListBox" name="MatchHistoryListBox" template="StandardTemplates/StandardListBoxTemplate">
            <Anchor side="Top" relative="$parent/ProfileMatchListBoxHistoryHeader" pos="Max" offset="-10"/>
            <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent/ProfileMatchListBoxHistoryHeader" pos="Min" offset="-10"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="-51"/>
            <Insets top="10" left="10" bottom="10" right="10"/>
            <ItemDesc val="ProfileMatchHistoryPanel/ProfileMatchHistoryListBoxItemTemplate"/>
            <PreventSelection val="true" />
            <BackgroundImage val="BackgroundImage"/>
            <Frame type="Image" name="BackgroundImage">
                <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
                <Texture val=""/>
                <Alpha val="0"/>
            </Frame>

            <ItemHeight val="80"/>
            <ItemGap val="-2"/>
        </Frame>
        
        <Frame type="Frame" name="EmptyMatchHistoryContainer">
            <Anchor relative="$parent/MatchHistoryListBox"/>
            <Visible val="false"/>

            <Frame type="Label" name="DescriptionLabel">
                <Anchor side="Top" relative="$parent" pos="Min" offset="25"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                <Text val="@UI/ProfileDialog/EmptyMatchHistory"/>
                <Style val="PlayerProfileHistory"/>
            </Frame>

            <Animation name="OnShown">
                <Event event="OnShown" action="Reset"/>
                <Event event="OnShown" action="DirectionForward"/>
                <Event event="OnShown" action="Play"/>
                <Controller type="Fade" end="Pause">
                    <Key type="Curve" time="0" value="0" out="Slow"/>
                    <Key type="Curve" time="0.5" value="255" out="Slow"/>
                </Controller>
                <Controller type="Anchor" end="Pause" side="Top" relative="true">
                    <Key type="Curve" time="0.0" value="20" out="Slow"/>
                    <Key type="Curve" time=".4" value="0" in="Slow"/>
                </Controller>
            </Animation>
            
        </Frame>
    </Frame>
</Desc>
