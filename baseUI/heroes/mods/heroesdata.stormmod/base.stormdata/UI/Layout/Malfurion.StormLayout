<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>

    <Frame type="SelectionUnitStatusPanel" name="MalfurionStacksFrameContainer">
        <Anchor relative="$parent"/>
        <SpecificUnit val="HeroMalfurion"/>
        <CheckPassengers val="True"/>

        <Frame type="UnitStatusUnitStackingDebuffElement" name="StacksFrame" template="UnitStatus/SingleBehaviorTemplate">
            <BuffBehavior val="Regrowth"/>

            <Frame type="Image" name="StacksFull">
                <Anchor side="Top" relative="$parent" pos="Min" offset="1"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="-1"/>
                <Texture val="@UI/Stacks/Malfurion"/>
            </Frame>
        </Frame>
    </Frame>

    <Frame type="SelectionUnitStatusPanel" name="MalfurionBackplate" template="StandardHeroUITemplates/CircularHeroUIBackplateTemplate">
        <SpecificUnit val="HeroMalfurion"/>
    </Frame>

    <Frame type="SelectionUnitStatusPanel" name="MalfurionFrame" template="StandardHeroUITemplates/CircularHeroUITemplate">
        <SpecificUnit val="HeroMalfurion"/>

        <Frame type="UnitStatusFrame" name="UnitStatusFrame0">

            <Frame type="Image" name="MechanicTexture">
                <Visible val="False"/>
                <Texture val="Assets\Textures\storm_ui_icon_malfurion_regrowth.dds"/>
                <Frame type="BehaviorIcon" name="RegrowthTooltip">
                    <Anchor relative="$parent"/>
                    <TooltipFrame val="BehaviorIconTooltip"/>
                    <Behavior val="MalfurionRegrowthTokenCounter"/>
                </Frame>
            </Frame>

            <Frame type="UnitStatusBehaviorIcon" name="RegrowthStackCountFrame" template="StandardHeroUITemplates/SmallCicularBehaviorStackCountTemplate">
                <Behavior val="MalfurionRegrowthTokenCounter"/>
            </Frame>

            <Frame type="UnitStatusBehaviorIcon" name="RegrowthCountdownFrame" template="StandardHeroUITemplates/CircularBehaviorCountdownBarTemplate">
                <Behavior val="Regrowth"/>
            </Frame>

            <Frame type="UnitStatusBehaviorAnim" name="RegrowthAnim" template="StandardHeroUITemplates/BehaviorAnimTemplate">
                <Behavior val="MalfurionRegrowthTokenCounter"/>

                <Animation name="ShowMechanicTexture">
                    <Event event="BehaviorCreate" action="Reset, Play"/>
                    <Event event="BehaviorDestroy" action="Stop"/>

                    <Controller type="Visibility" end="Pause" frame="$parent/MechanicTexture">
                        <Key type="Bool" time="0" value="True"/>
                    </Controller>
                </Animation>
                <Animation name="HideMechanicTexture">
                    <Event event="BehaviorCreate" action="Reset, Play"/>
                    <Event event="BehaviorDestroy" action="Reset, Play"/>

                    <Controller type="Visibility" end="Pause" frame="$parent/RegrowthCountdownFrame/BehaviorIcon/CooldownBar/FillImageContainer">
                        <Key type="Bool" time="0" value="False"/>
                    </Controller>
                </Animation>
            </Frame>

        </Frame>
    </Frame>

</Desc>
