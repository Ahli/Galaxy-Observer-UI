<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>
    
    <Constant name="CustomGamesMelee_ListItem_Height" val="40"/>
    
    <!-- 
    ================================
    DETAILSPANELTEMPLATE
    ================================
    -->
    <Frame type="Frame" name="DetailsPanelTemplate" template="CustomGamesTemplates/DetailsPanelTemplate">
        <Frame type="TabControl" name="BottomSection">

            <Frame type="Frame" name="TabsContainer">
            
                <Frame type="Button" name="Button1">
                    <Width val="218"/>
                    <Text val="@UI/ScreenCustomGames/InfoTabs/Bookmarks"/>
                </Frame>

                <Frame type="Button" name="Button2">
                    <Width val="154"/>
                    <Text val="@UI/ScreenCustomGames/InfoTabs/Map"/>
                </Frame>

                <Frame type="Button" name="Button3">
                    <Width val="140"/>
                    <Text val="@UI/ScreenCustomGames/InfoTabs/Mod"/>
                </Frame>
            </Frame>
            
            <Frame type="Frame" name="Panel1">
                <Frame type="BookmarkSelectionFrame" name="BookmarkSelectionFrame16x10" template="CustomGamesTemplates/BookmarkSelectionFrame16x10Template">
                    <Arcade val="False"/>
                </Frame>
                <Frame type="BookmarkSelectionFrame" name="BookmarkSelectionFrame16x9" template="CustomGamesTemplates/BookmarkSelectionFrame16x9Template">
                    <Arcade val="False"/>
                </Frame>
            </Frame>
            
            <Frame type="Frame" name="Panel2">
                <Frame type="BattleMapInfoPanel" name="BattleMapInfoPanel" template="CustomGamesTemplates/BattleMapInfoPanelTemplate"/>
            </Frame>
            
            <Frame type="Frame" name="Panel3">
                <Frame type="BattleMapInfoPanel" name="BattleModInfoPanel" template="CustomGamesTemplates/BattleMapInfoPanelTemplate"/>
            </Frame>
        </Frame>
    </Frame>
    
    <!-- 
    ========================
    MELEE LIST ITEM TEMPLATE
    ========================
    -->
    <Frame type="CustomGameTileListItem" name="MeleeListItemTemplate" template="StandardTileListTemplates/StandardSmallTileListItemTemplate">
        <ContextMenu val="$parent/$parent/$parent/$parent/$parent/ItemContextMenu"/>
        <HasItemContextMenu val="true"/>
        <HideWhenCleared val="False"/>

        <Frame type="BattleMapFrame" name="BattleModFrame">
            <Anchor relative="$parent"/>
            <MapHandle val="{$parent/@ModHandle}"/>
        </Frame>

        <Frame type="BattleMapFrame" name="BattleMapFrame">
            <Anchor relative="$parent"/>
            <MapHandle val="{$parent/@MapHandle}"/>
        </Frame>
                
        <!-- ExtensionState -->
        <StateGroup name="ExtensionState">
            <DefaultState val="NoExtension"/>
            <State name="Extension">
                <When type="Property" frame="$this" ModHandle="0,0" operator="NotEqual"/>
            </State>
            <State name="NoExtension"/>
        </StateGroup>
                
        <!-- BookmarkedState -->
        <StateGroup name="BookmarkedState">
            <DefaultState val="Bookmarked"/>
            <State name="NotBookmarked">
                <When type="Property" frame="$this/BattleMapFrame" IsBookmarked="False"/>
                <When type="Property" frame="$this/BattleModFrame" IsBookmarked="False"/>
            </State>
            <State name="Bookmarked"/>
        </StateGroup>
        
         <Frame type="Frame" name="AnchorFrame">
            <Anchor side="Left" relative="$parent/$parent" pos="Min" offset="16"/>
            <Anchor side="Right" relative="$parent/$parent/ScrollBar" pos="Min" offset="-2"/>
        </Frame>
        
         <!-- MaxPlayers Label -->
         <Frame type="Label" name="MaxPlayersLabel">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Mid" offset="1"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Mid" offset="1"/>
            <Anchor side="Left" relative="$parent/$parent/$parent/PlayerCountIcon" pos="Mid" offset="1"/>
            <Anchor side="Right" relative="$parent/$parent/$parent/PlayerCountIcon" pos="Mid" offset="1"/>
            <Style val="@CustomGames_Melee_PlayerCount_Normal"/>
            <Text val="2"/>
            
            <StateGroup name="VisibleState">
                <DefaultState val="NotVisible"/>
                
                <State name="Visible">
                    <When type="Property" frame="$parent" HasData="True"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                </State>

                <State name="NotVisible">
                    <Action type="SetProperty" frame="$this" Visible="False"/>
                </State>
            </StateGroup>
            
            <StateGroup name="StyleState">
                <DefaultState val="Normal"/>
                
                <State name="Selected">
                    <When type="StateGroup" frame="$parent" SelectedState="Selected"/>
                    <Action type="SetProperty" frame="$this" Style="@CustomGames_Melee_PlayerCount_Selected"/>
                </State>
                
                <State name="Hovered">
                    <When type="StateGroup" frame="$parent" HoveredState="Hovered"/>
                    <Action type="SetProperty" frame="$this" Style="@CustomGames_Melee_PlayerCount_Hovered"/>
                </State>
                
                <State name="Normal">
                    <Action type="SetProperty" frame="$this" Style="@CustomGames_Melee_PlayerCount_Normal"/>
                </State>
            </StateGroup>
        </Frame>
        
        <!-- MaxPlayersVariantLabel -->
         <Frame type="Label" name="MaxPlayersVariantLabel">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Min" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent/AnchorFrame" pos="Min" offset="0"/>
            <Width val="30"/>
            <Style val="@CustomGames_Melee_PlayerCount"/>
            <Visible val="false"/>
        </Frame>
        
        <!-- ModLabel -->
         <Frame type="Label" name="ModLabel">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Min" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent/AnchorFrame" pos="Min" offset="0"/>
            <Width val="30"/>
            <Style val="@CustomGames_Melee_PlayerCount"/>
            <Visible val="false"/>
        </Frame>
                
        <!-- Map/Game Name -->
        <Frame type="Label" name="Name">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/MaxPlayersLabel" pos="Max" offset="0"/>
            <Width val="200"/>
            <Height val="20"/>
            <Style val="@CustomGames_ListItem_Normal"/>
            <Text val="Map/Game Name"/>
            <Visible val="False"/>
        </Frame>
                
        <!-- Map/Game Name -->
        <Frame type="Label" name="MapName">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/$parent/$parent/MapName" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent/TitleLabel" pos="Min" offset="-10"/>
            <Height val="20"/>
            <Style val="@CustomGames_ListItem_Normal"/>
 
            <Frame type="TextFormatFrame" name="FormattedMapName">
                <Anchor relative="$parent"/>
                <Replacement index="0" val="{$parent/$parent/Name/@Text}"/>
                <Replacement index="1" val="{$parent/$parent/BattleModFrame/@Name}"/>
            </Frame>
            
            <StateGroup name="StyleState">
                <DefaultState val="Empty"/>
                
                <State name="ExtensionSelected">
                    <When type="StateGroup" frame="$parent" SelectedState="Selected"/>
                    <When type="StateGroup" frame="$parent" ExtensionState="Extension"/>
                    <Action type="SetProperty" frame="$this/FormattedMapName" FormatText="@UI/ScreenCustomGames/MapWithMod/Selected"/>
                    <Action type="SetProperty" frame="$this" Text="{$this/FormattedMapName/@Text}"/>
                </State>
                
                <State name="ExtensionHovered">
                    <When type="StateGroup" frame="$parent" HoveredState="Hovered"/>
                    <When type="StateGroup" frame="$parent" ExtensionState="Extension"/>
                    <Action type="SetProperty" frame="$this/FormattedMapName" FormatText="@UI/ScreenCustomGames/MapWithMod/Hovered"/>
                    <Action type="SetProperty" frame="$this" Text="{$this/FormattedMapName/@Text}"/>
                </State>
                
                <State name="ExtensionNormal">
                    <When type="StateGroup" frame="$parent" EmptyState="NotEmpty"/>
                    <When type="StateGroup" frame="$parent" ExtensionState="Extension"/>
                    <Action type="SetProperty" frame="$this/FormattedMapName" FormatText="@UI/ScreenCustomGames/MapWithMod/Normal"/>
                    <Action type="SetProperty" frame="$this" Text="{$this/FormattedMapName/@Text}"/>
                </State>
                
                <State name="Selected">
                    <When type="StateGroup" frame="$parent" SelectedState="Selected"/>
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Selected"/>
                    <Action type="SetProperty" frame="$this" Text="{$parent/Name/@Text}"/>
                </State>
                
                <State name="Hovered">
                    <When type="StateGroup" frame="$parent" HoveredState="Hovered"/>
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Hovered"/>
                    <Action type="SetProperty" frame="$this" Text="{$parent/Name/@Text}"/>
                </State>
                
                <State name="Normal">
                    <When type="StateGroup" frame="$parent" EmptyState="NotEmpty"/>
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Normal"/>
                    <Action type="SetProperty" frame="$this" Text="{$parent/Name/@Text}"/>
                </State>

                <State name="Empty">
                    <Action type="SetProperty" frame="$this" Text=""/>
                </State>
            </StateGroup>
        </Frame>
        
        <!-- Mode Label -->
        <Frame type="Label" name="Mode">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/MaxPlayersLabel" pos="Max" offset="0"/>
            <Width val="200"/>
            <Height val="20"/>
            <Style val="@CustomGames_ListItem_Normal"/>
            <Visible val="false"/>
        </Frame>
        
        <!-- Categories Label -->
        <Frame type="Label" name="CategoriesLabel">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/AnchorFrame" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/Mode" pos="Max" offset="0"/>
            <Width val="200"/>
            <Height val="20"/>
            <Style val="@CustomGames_ListItem_Normal"/>
            <Visible val="false"/>
        </Frame>
        
        <!-- Author Name Label -->
        <Frame type="Label" name="TitleLabel">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/$parent/$parent/AuthorName" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent/AnchorFrame" pos="Max" offset="-15"/>
            <Height val="20"/>
            <Style val="@CustomGames_ListItem_Normal"/>
            <Text val="{$parent/@AuthorName}"/>

            <StateGroup name="VisibleState">
                <DefaultState val="NotVisible"/>
                
                <State name="Visible">
                    <When type="Property" frame="$parent/BattleMapFrame" IsBlizzardMap="False"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                </State>

                <State name="NotVisible">
                    <Action type="SetProperty" frame="$this" Visible="False"/>
                </State>
            </StateGroup>
            
            <StateGroup name="StyleState">
                
                <State name="Locked">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Locked_Normal"/>
                </State>
            
                <State name="EquippedSelected">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Selected"/>
                </State>
            
                <State name="PurchasableSelected">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Selected"/>
                </State>
            
                <State name="Selected">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Selected"/>
                </State>
                
                <State name="EquippedHovered">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Hovered"/>
                </State>
            
                <State name="PurchasableHovered">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Hovered"/>
                </State>
                
                <State name="Hovered">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Hovered"/>
                </State>

                <State name="EquippedNormal">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Normal"/>
                </State>
            
                <State name="PurchasableNormal">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Normal"/>
                </State>

                <State name="Normal">
                    <Action type="SetProperty" frame="$this" Style="@InternationalListItemTitle_Small_Standard_Normal"/>
                </State>
            </StateGroup>
        </Frame>
        
        <Frame type="Image" name="BlizzardAuthoredIcon">
            <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/$parent/$parent/AuthorName" pos="Min" offset="3"/>
            <Width val="44"/>
            <Height val="20"/>
            <Texture val="@UI/Glues_Icons_BlizzardAuthored_Normal"/>
            <Visible val="False"/>
            
            <StateGroup name="VisibleState">
                <DefaultState val="NotVisible"/>
                
                <State name="Visible">
                    <When type="Property" frame="$parent/BattleMapFrame" IsBlizzardMap="True"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                </State>

                <State name="NotVisible">
                    <Action type="SetProperty" frame="$this" Visible="False"/>
                </State>
            </StateGroup>
            
            <StateGroup name="DisplayState">
                <DefaultState val="Normal"/>
                
                <State name="Selected">
                    <When type="StateGroup" frame="$parent" SelectedState="Selected"/>
                    <Action type="SetProperty" frame="$this" Texture="@UI/Glues_Icons_BlizzardAuthored_Selected"/>
                </State>
                
                <State name="Hovered">
                    <When type="StateGroup" frame="$parent" HoveredState="Hovered"/>
                    <Action type="SetProperty" frame="$this" Texture="@UI/Glues_Icons_BlizzardAuthored_Hovered"/>
                </State>
                
                <State name="Normal">
                    <Action type="SetProperty" frame="$this" Texture="@UI/Glues_Icons_BlizzardAuthored_Normal"/>
                </State>
            </StateGroup>
        </Frame>
            
        <!-- EQUIPPED ICON -->
        <Frame type="Image" name="EquippedIcon">
            <Anchor side="Top" relative="$parent/AnchorFrame" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent/AnchorFrame" pos="Max" offset="0"/>
            <Texture val="@UI/Glues_Battlenet_PageAssets_StandardListItem_Icon_Bookmark"/>
        </Frame>
        
        <StateGroup name="EquippedState">
            <DefaultState val="NotEquipped"/>
            <State name="Equipped">
                <When type="StateGroup" frame="$this" BookmarkedState="Bookmarked"/>
            </State>
            <State name="NotEquipped">
            </State>
        </StateGroup>
    </Frame>
    
    <!-- 
    ========================
    MELEE MAP LIST TEMPLATE
    ========================
    -->
    <Frame type="Frame" name="MeleeMapListContainerTemplate">
        <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
        <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
        <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
        <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
        
        <Frame type="Label" name="MapName">
            <Anchor side="Bottom" relative="$parent/MeleeMapList" pos="Min" offset="-8"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="85"/>
            <Text val="@UI/ScreenCustomGames/Lobbies/MapName"/>
            <Style val="@CustomGames_ListInfoCategoryTitle"/>
        </Frame>
        
        <Frame type="Image" name="PlayerCountIcon">
            <Anchor side="Top" relative="$parent/MapName" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/MapName" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="34"/>
            <Width val="20"/>
            <Height val="24"/>
            <Texture val="@UI/Glues_Icons_NumPlayers"/>
            <Color val="220,238,255"/>
        </Frame>
        
        <Frame type="Label" name="AuthorName">
            <Anchor side="Bottom" relative="$parent/MapName" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="845"/>
            <Text val="@UI/ScreenCustomGames/Melee/Author"/>
            <Style val="@CustomGames_ListInfoCategoryTitle"/>
        </Frame>
        
        <Frame type="TileList" name="MeleeMapList">
            <Anchor side="Top" relative="$parent" pos="Min" offset="42"/>
            <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
            <AcceptsMouse val="true"/>
            <RequireSelection val="true"/>
                
            <Frame type="CustomGameTileListItem" name="Item0" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent" pos="Min" offset="4"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item1" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item0/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item2" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item1/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item3" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item2/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item4" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item3/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item5" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item4/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item6" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item5/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item7" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item6/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item8" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item7/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item9" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item8/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item10" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item9/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item11" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item10/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item12" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item11/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item13" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item12/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>

            <Frame type="CustomGameTileListItem" name="Item14" template="CustomGamesMelee/MeleeListItemTemplate">
                <Frame type="Frame" name="AnchorFrame">
                    <Anchor side="Top" relative="$parent/$parent/Item13/AnchorFrame" pos="Max" offset="2"/>
                </Frame>
            </Frame>
            
            <Frame type="Image" name="ScrollBarBackground" template="StandardTileListTemplates/StandardTileListScrollBarBackgroundTemplate"/>

            <Frame type="ScrollBar" name="ScrollBar" template="StandardTileListTemplates/StandardTileListScrollBarTemplate">
                <Anchor side="Top" relative="$parent/Item0" pos="Min" offset="2"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="-2"/>
                <Anchor side="Bottom" relative="$parent/Item14" pos="Max" offset="-2"/>
            </Frame>
        </Frame>
    </Frame>
    
    <!-- 
    ===========================================================
    
    CUSTOM GAMES MELEE TEMPLATE
    
    ===========================================================
    -->
    <Frame type="CustomGameListPanel" name="CustomGamesMelee" template="CustomGamesTemplates/CustomGamesBaseTemplate">
        <Anchor relative="$parent"/>
        <HookupAlias original="FilterPulldown" alias="ContentContainer/HeaderPanel/FilterPulldown"/>
        <HookupAlias original="GamesTileList" alias="ContentContainer/PrimaryPanel/MeleeMapListContainer/MeleeMapList"/>
        <HookupAlias original="GamesTileList/ScrollBar" alias="ContentContainer/PrimaryPanel/MeleeMapListContainer/MeleeMapList/ScrollBar"/>
        <ExpansionTag val="{$this/ContentContainer/HeaderPanel/ExpansionPulldown/@ExpansionTag}"/>
        <SearchText val="{$this/ContentContainer/HeaderPanel/SearchEditBox/@Text}"/>
         
        <Frame type="Label" name="TitleLabel">
            <Text val="@UI/ScreenCustomGames/Melee/Title"/>
        </Frame>
        
        <Frame type="Label" name="SubtitleLabel">
            <Text val="@UI/ScreenCustomGames/Melee/Subtitle"/>
        </Frame>
        
        <Frame type="Frame" name="ContentContainer">
            <Frame type="Frame" name="HeaderPanel">
                
                <Frame type="EditBox" name="SearchEditBox" template="CustomGamesTemplates/SearchEditBoxTemplate">
                    <Tooltip val="@UI/ScreenCustomGames/SearchTooltip"/>
                    <MaxCharacters val="80"/>
                    
                    <Animation name="RequestSearch">
                        <Event event="OnEnterPressed" frame="$this" action="Reset,Play"/>

                        <Controller type="Event" end="Pause" frame="$ancestor[@type=CustomGameListPanel]">
                            <Key type="Event" time="0.0" event="RequestEditBoxSearch"/>
                        </Controller>
                    </Animation>
                    
                    <Frame type="Label" name="SearchTextLabel">
                        <Text val="@UI/ScreenCustomGames/Melee/SearchText"/>
                    </Frame>
    
                    <Frame type="Frame" name="AnchorFrame">
                        <Anchor side="Right" relative="$parent/$parent/ExpansionPulldown/AnchorFrame" pos="Min" offset="-14"/>
                    </Frame>

                    <Frame type="Button" name="ClearTextButton">
                        <Animation name="ClearLobbyList">
                            <Event event="OnClick" frame="$this" action="Reset,Play"/>

                            <Controller type="Event" end="Pause" frame="$ancestor[@type=CustomGameListPanel]">
                                <Key type="Event" time="0.1" event="RequestEditBoxSearch"/>
                            </Controller>
                        </Animation>
                    </Frame>
                </Frame>

                <Frame type="ExpansionPulldown" name="ExpansionPulldown" template="StandardSmallButtonTemplates/StandardSmallPulldownTemplate">
                    <SettingName val="CustomGamesMelee.Expansion"/>
                    
                    <Frame type="Frame" name="AnchorFrame">
                        <Anchor side="Top" relative="$parent/$parent" pos="Mid" offset="0"/>
                        <Anchor side="Bottom" relative="$parent/$parent" pos="Mid" offset="0"/>
                        <Anchor side="Right" relative="$parent/$parent/FilterPulldown/AnchorFrame" pos="Min" offset="-14"/>
                    </Frame>
                </Frame>

                <Frame type="Pulldown" name="FilterPulldown" template="StandardSmallButtonTemplates/StandardSmallPulldownTemplate">
                    <Frame type="Frame" name="AnchorFrame">
                        <Anchor side="Top" relative="$parent/$parent" pos="Mid" offset="0"/>
                        <Anchor side="Bottom" relative="$parent/$parent" pos="Mid" offset="0"/>
                        <Anchor side="Right" relative="$parent/$parent" pos="Max" offset="-15"/>
                    </Frame>
                </Frame>
            </Frame>
            
            <Frame type="Frame" name="PrimaryPanel">
                <Frame type="Frame" name="MeleeMapListContainer" template="CustomGamesMelee/MeleeMapListContainerTemplate"/>
            </Frame>

            <Frame type="Frame" name="SecondaryPanel">
                
                <Frame type="Frame" name="DetailsPanel" template="CustomGamesMelee/DetailsPanelTemplate">
                    <Frame type="BattleMapFrame" name="BattleMapFrame">
                        <MapHandle val="{$ancestor[@type=CustomGameListPanel]/@SelectedMapHandle}"/>
                    </Frame>
        
                    <Frame type="TabControl" name="InfoPanel">
                        <Frame type="Frame" name="Panel2">
                            <Frame type="BattleMapInfoPanel" name="BattleMapInfoPanel" template="CustomGamesTemplates/BattleMapInfoPanelTemplate">
                                <MapHandle val="{$ancestor[@type=CustomGameListPanel]/@SelectedModHandle}"/>
            
                                <StateGroup name="ExtensionModState">
                                    <DefaultState val="ExtensionMod"/>
                                </StateGroup>
                
                                <StateGroup name="ErrorState">
                                    <DefaultState val="NoSelection"/>
                                
                                    <State name="ArcadeExtensionMod">
                                        <When type="Property" frame="$parent/$parent/Panel1/BattleMapInfoPanel/BattleMapFrame" IsArcade="True"/>
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text="@UI/ScreenCustomGames/InfoTabs/Error/ArcadeMod"/>
                                    </State>
                                
                                    <State name="MeleeNoExtensionMod">
                                        <When type="Property" frame="$this/BattleMapFrame" MapHandle="0,0"/>
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text="@UI/ScreenCustomGames/InfoTabs/Error/NoMod"/>
                                    </State>
                                    
                                    <State name="NoSelection">
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text=""/>
                                    </State>
                                </StateGroup>
                            </Frame>
                        </Frame>
                    </Frame>

                    <Frame type="Frame" name="BottomSection">
                        <Frame type="Frame" name="Panel3">
                            <Frame type="BattleMapInfoPanel" name="BattleModInfoPanel" template="CustomGamesTemplates/BattleMapInfoPanelTemplate">
                                <MapHandle val="{$ancestor[@type=CustomGameListPanel]/@SelectedModHandle}"/>
            
                                <StateGroup name="ExtensionModState">
                                    <DefaultState val="ExtensionMod"/>
                                </StateGroup>
                
                                <StateGroup name="ErrorState">
                                    <DefaultState val="NoSelection"/>
                                
                                    <State name="ArcadeExtensionMod">
                                        <When type="Property" frame="$parent/$parent/Panel2/BattleMapInfoPanel/BattleMapFrame" IsArcade="True"/>
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text="@UI/ScreenCustomGames/InfoTabs/Error/ArcadeMod"/>
                                    </State>
                                
                                    <State name="MeleeNoExtensionMod">
                                        <When type="Property" frame="$this/BattleMapFrame" MapHandle="0,0"/>
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text="@UI/ScreenCustomGames/InfoTabs/Error/NoMod"/>
                                    </State>
                                    
                                    <State name="NoSelection">
                                        <Action type="SetProperty" frame="$this/ErrorLabel" Text=""/>
                                    </State>
                                </StateGroup>
                            </Frame>
                        </Frame>
                    </Frame>

                </Frame>
            </Frame>
        </Frame>

        <Frame type="CustomGamePlayButton" name="CreateButton" template="StandardBattlenetTemplates/BattlenetAlternateButtonTemplate">
            <Anchor side="Bottom" relative="$Anchor_ActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$Anchor_ActionButton" pos="Max" offset="0"/>
            <Text val="@UI/ScreenCustomGames/CreateButton"/>
            <MapHandle val="{$parent/@SelectedMapHandle}"/>
            <ModHandle val="{$parent/@SelectedModHandle}"/>
            <ExpansionTag val="{$parent/@ExpansionTag}"/>
            <VariantIndex val="{$parent/@SelectedVariantIndex}"/>
            <GameSpeed val="{$parent/@SelectedGameSpeed}"/>
            <UseDefaultVariant val="true"/>

            <Animation name="ItemDoubleClicked">
                <Event event="OnItemDoubleClicked" action="Reset,Play" frame="$parent/ContentContainer/PrimaryPanel/MeleeMapListContainer/MeleeMapList"/>

                <Controller type="Event" end="Pause">
                    <Key type="Event" time="0" event="ControlClickRequest"/>
                </Controller>
            </Animation>
        </Frame>

        <Frame type="Button" name="CreateModButton" template="StandardBattlenetTemplates/BattlenetStandardButtonTemplate">
            <Anchor side="Top" relative="$parent/CreateButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/CreateButton" pos="Max" offset="20"/>
            <Text val="@UI/ScreenCustomGames/CreateModButton"/>
            <Enabled val="{$parent/CreateButton/@Enabled}"/>
            <Tooltip val="{$parent/CreateButton/@Tooltip}"/>
        </Frame>

        <Frame type="ViewMapProfileButton" name="GameInfoButton" template="StandardBattlenetTemplates/BattlenetStandardButtonTemplate">
            <Anchor side="Bottom" relative="$Anchor_ActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/CreateModButton" pos="Max" offset="20"/>
            <Text val="@UI/ScreenCustomGames/MapInfoButton"/>
            <HoverSound val="@UI_HoverTick"/>
            <MapHandle val="{$parent/@SelectedMapHandle}"/>

            <StateGroup name="GameInfoButtonState">
                <State name="MapHandleInvalid">
                    <When type="Property" frame="$parent" SelectedMapHandle="0,0"/>
                    <Action type="SetProperty" frame="$this" Enabled="false"/>
                </State>
                <State name="MapHandleValid">
                    <Action type="SetProperty" frame="$this" Enabled="true"/>
                </State>
            </StateGroup>
        </Frame>

        <Frame type="BattleMapContextMenu" name="ItemContextMenu" template="StandardTemplates/StandardContextMenuTemplate">
            <Anchor side="Top" relative="$parent" pos="Max" offset="0"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
            <ShowMapInfo val="true"/>
            <ShowCreateOffline val="true"/>
            <MapHandle val="{$parent/@SelectedMapHandle}"/>
            <ModHandle val="{$parent/@SelectedModHandle}"/>
            <ExpansionTag val="{$parent/@ExpansionTag}"/>
        </Frame>

        <Frame type="CustomGameModListPanel" name="ModListPanel" template="CustomGameModListPanel/CustomGameModListPanelTemplate">
            <Anchor relative="$parent"/>
            <RenderPriority val="900"/>
            <Visible val="false"/>
            <MapHandle val="{$parent/@SelectedMapHandle}"/>

            <Animation name="Show">
                <Event event="OnClick" action="Reset,Play" frame="$parent/CreateModButton"/>
                <Event event="OnClick" action="Reset,Stop" frame="CloseButton"/>
                <Event event="OnHidden" action="Reset,Stop" frame="$parent"/>

                <Controller type="Visibility" end="Pause">
                    <Key type="Bool" time="0.000" value="false"/>
                    <Key type="Bool" time="0.001" value="true"/>
                    <Key type="Bool" time="0.175" value="true"/>
                </Controller>

                <Controller type="Fade" end="Pause">
                    <Key type="Curve" time="0.000" value="0" out="Slow"/>
                    <Key type="Curve" time="0.175" value="255" in="Auto"/>
                </Controller>
            </Animation>

            <Frame type="CustomGamePlayButton" name="CreateButton">
                <ExpansionTag val="{$parent/$parent/@ExpansionTag}"/>
                <VariantIndex val="{$parent/$parent/@SelectedVariantIndex}"/>
                <GameSpeed val="{$parent/$parent/@SelectedGameSpeed}"/>
                <UseDefaultVariant val="true"/>
            </Frame>
        </Frame>

        <!-- These types of filters use the default variant when creating a game -->
        <StateGroup name="DefaultVariantStateGroup">
            <State name="SearchingState">
                <When type="AnimationState" frame="$this" SearchState="Searching"/>
            </State>
            <State name="TopPlayedState">
                <When type="AnimationState" frame="$this" FilterState="TopPlayed"/>
                <Action type="SetProperty" frame="CreateButton" UseDefaultVariant="false"/>
                <Action type="SetProperty" frame="ModListPanel/CreateButton" UseDefaultVariant="false"/>
            </State>
            <State name="RecentlyPlayedState">
                <When type="AnimationState" frame="$this" FilterState="RecentlyPlayed"/>
                <Action type="SetProperty" frame="CreateButton" UseDefaultVariant="false"/>
                <Action type="SetProperty" frame="ModListPanel/CreateButton" UseDefaultVariant="false"/>
            </State>
        </StateGroup>

        <StateGroup name="SearchingStateGroup">
            <DefaultState val="NotSearchingState"/>

            <State name="SearchingState">
                <When type="AnimationState" frame="$this" SearchState="Searching"/>
                <Action type="SetProperty" frame="ContentContainer/HeaderPanel/FilterPulldown" Visible="false"/>
                <Action type="SetProperty" frame="ContentContainer/HeaderPanel/ExpansionPulldown" Visible="false"/>
            </State>

            <State name="NotSearchingState">
                <Action type="SetProperty" frame="ContentContainer/HeaderPanel/FilterPulldown" Visible="true"/>
                <Action type="SetProperty" frame="ContentContainer/HeaderPanel/ExpansionPulldown" Visible="true"/>
            </State>
        </StateGroup>
    </Frame>
</Desc>
