<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>

    <!--=======================================================================================
    <! Templates
    <!======================================================================================-->

    <!-- Mount Tile List Item Template -->
    <Frame type="GameContentTileListItem" name="LoadoutMountTileListItemTemplate" template="HeroSelectLoadoutTemplates/LoadoutTileListItemTemplate">
        <Frame type="HeroCutsceneFrame" name="PortraitCutscene">
            <HeroCutsceneType val="MountMiniPortrait"/>
        </Frame>
    </Frame>

    <!--=======================================================================================
    <! Main Template
    <!======================================================================================-->
    <!-- Template for the Mounts section of the loadout panel -->
    <Frame type="Frame" name="LoadoutMountsPanelTemplate" template="HeroSelectLoadoutTemplates/HeroSelectLoadoutItemPanelTemplate">
        <Frame type="CollectionCategoryTileList" name="CategoryTileList" template="HeroSelectLoadoutTemplates/LoadoutCategoryTileListTemplate">
            <GameContentType val="Mount"/>
            <MountCategoryFilter index="0" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[0]}"/>
            <MountCategoryFilter index="1" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[1]}"/>
            <MountCategoryFilter index="2" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[2]}"/>
            <MountCategoryFilter index="3" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[3]}"/>
            <MountCategoryFilter index="4" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[4]}"/>
            <MountCategoryFilter index="5" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[5]}"/>
            <MountCategoryFilter index="6" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[6]}"/>
            <MountCategoryFilter index="7" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[7]}"/>
            <MountCategoryFilter index="8" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[8]}"/>
            <MountCategoryFilter index="9" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[9]}"/>
        </Frame>

        <Frame type="LoadoutTileList" name="ContentTileList" template="HeroSelectLoadoutTemplates/LoadoutTileListTemplate">
            <MountCategoryFilter val="None"/> <!-- Default to initial state that will contain no mounts for performance -->
            <GameContentType val="Mount"/>
            <Visible val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@HeroUsesMounts}"/>

            <ParentHeroFilter val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@HeroLink}"/>
            <MountCategoryFilter index="0" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[0]}"/>
            <MountCategoryFilter index="1" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[1]}"/>
            <MountCategoryFilter index="2" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[2]}"/>
            <MountCategoryFilter index="3" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[3]}"/>
            <MountCategoryFilter index="4" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[4]}"/>
            <MountCategoryFilter index="5" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[5]}"/>
            <MountCategoryFilter index="6" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[6]}"/>
            <MountCategoryFilter index="7" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[7]}"/>
            <MountCategoryFilter index="8" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[8]}"/>
            <MountCategoryFilter index="9" val="{$ancestor[@type=HeroSelectLoadoutsPanel]/@MountCategoryFilter[9]}"/>

            <Frame type="GameContentTileListItem" name="Item0" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item1" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item2" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item3" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item4" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item5" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item6" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item7" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item8" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item9" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item10" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item11" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item12" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item13" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item14" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item15" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item16" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
            <Frame type="GameContentTileListItem" name="Item17" template="HeroSelectLoadoutMountsPanel/LoadoutMountTileListItemTemplate"/>
        </Frame>

        <Frame type="Frame" name="MountReplacementContainer">
            <Anchor side="Top" relative="$ancestor[@type=HeroSelectLoadoutsPanel]/BlurBackground" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
            <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
            <Visible val="false"/>

            <StateGroup name="Visibility">
                <State name="Show">
                    <When type="Property" frame="$ancestor[@type=HeroSelectLoadoutsPanel]" HeroUsesMounts="false"/>
                    <Action type="SetProperty" Visible="true"/>
                    <Action type="SetProperty" frame="$parent/OwnershipFilterPulldown" Visible="false"/>
                    <Action type="SetProperty" frame="$parent/SearchEditBox" Visible="false"/>
                    <Action type="SetProperty" frame="$parent/CategoryTileList" Visible="false"/>
                </State>
            </StateGroup>

            <Frame type="Label" name="MountUnavailableHeader" template="HeroSelectLoadoutTemplates/SelectedItemNameLabelTemplate">
                <Anchor side="Top" relative="$parent/$parent/SearchEditBox" pos="Mid" offset="0"/>
                <Anchor side="Right" relative="$this" pos="Min" offset="0"/>
                <Anchor side="Bottom" relative="$parent/$parent/SearchEditBox" pos="Mid" offset="0"/>
                <Text val="@UI/HeroSelectMountsPanel/MountUnavailableHeader"/>
            </Frame>

            <Frame type="Image" name="BorderTopLineImage">
                <Anchor side="Top" relative="$parent/$parent/SearchEditBox" pos="Max" offset="10"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="5"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="-5"/>
                <Alpha val="186"/>
                <Color val="5c47b3"/>
                <Height val="2"/>
            </Frame>

            <Frame type="Image" name="DarkenImage">
                <Anchor side="Top" relative="$parent/BorderTopLineImage" pos="Max" offset="0"/>
                <Anchor side="Left" relative="$parent/BorderTopLineImage" pos="Min" offset="0"/>
                <Anchor side="Right" relative="$parent/BorderTopLineImage" pos="Max" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Max" offset="-5"/>
                <Alpha val="150"/>
                <Color val="191336"/>
            </Frame>

            <Frame type="Label" name="MountUnavailableLabel">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="-50"/>
                <Anchor side="Left" relative="$parent/BorderTopLineImage" pos="Min" offset="0"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="-50"/>
                <Style val="HeroSelectPanelUnavailableLabel"/>
                <Text val="@UI/HeroSelectMountsPanel/MountUnavailableTooltip"/>
            </Frame>

            <Frame type="Image" name="BorderLine2Image">
                <Anchor side="Left" relative="$parent/BorderTopLineImage" pos="Min" offset="0"/>
                <Anchor side="Right" relative="$parent/BorderTopLineImage" pos="Max" offset="0"/>
                <Anchor side="Bottom" relative="$parent/MountReplacementHeader" pos="Min" offset="-10"/>
                <Alpha val="186"/>
                <Color val="5c47b3"/>
                <Height val="2"/>
            </Frame>

            <Frame type="Label" name="MountReplacementHeader">
                <Anchor side="Left" relative="$parent/BorderTopLineImage" pos="Min" offset="20"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                <Anchor side="Bottom" relative="$parent/MountReplacementTileList" pos="Min" offset="-10"/>
                <Style val="HeroSelectPanelHeaderLabel"/>
                <Text val="@UI/HeroSelectMountsPanel/MountReplacementHeader"/>
            </Frame>

            <Frame type="TileList" name="MountReplacementTileList">
                <Anchor side="Left" relative="$parent/BorderTopLineImage" pos="Min" offset="-2"/>
                <Anchor side="Right" relative="$parent" pos="Max" offset="-2"/>
                <Anchor side="Bottom" relative="$parent" pos="Max" offset="0"/>
                <Height val="110"/>

                <Frame type="HeroAbilTileListItem" name="Item0" template="HeroAbilTileListItem/HeroSelectHeroAbilTileListItemTemplate">
                    <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
                    <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
                    <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
                </Frame>
            </Frame>
        </Frame>
    </Frame>
</Desc>
