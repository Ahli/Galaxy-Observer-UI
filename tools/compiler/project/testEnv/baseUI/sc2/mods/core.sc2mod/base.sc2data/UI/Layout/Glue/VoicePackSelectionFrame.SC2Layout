<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>

    <Constant name="TileListItemHeight" val="88"/>
    <Constant name="TileListItemOffsetRight" val="-2"/>
    <Constant name="TileListItemOffsetTop" val="2"/>
    <Constant name="VoiceLineLeftOffset" val="3"/>

    <Frame type="VoicePackSelectionFrame" name="VoicePackSelectionFrameTemplate">
        <HideAllowed val="{$this/HidePurchasedCheckBox/@Checked}"/>
        <SelectedRace val="{$this/RacePulldown/@SelectedRace}"/>
        <SortMethod val="{$this/SortPulldown/@SelectedSort}"/>
        <PresenceId val="{$BattleUI/@LocalToonPresenceId}"/>

        <Frame type="Label" name="TitleLabel">
            <Anchor side="Top" relative="$parent" pos="Min" offset="98"/>
            <Anchor side="Left" relative="$Anchor_LeftHeader" pos="Max" offset="0"/>
            <Style val="@Arcade_Title"/>
            <Text val="@UI/ScreenCollection/VoicePack/Title"/>
        </Frame>

        <Frame type="SelectedVoicePackFrame" name="SelectedTerranVoicePackFrame" template="VoicePackFrame/SelectedVoicePackFrameTemplate">
            <Anchor side="Top" relative="$parent/TitleLabel" pos="Max" offset="16"/>
            <Anchor side="Left" relative="$parent/TileListFrameBg" pos="Min" offset="0"/>
            <UnlockableTag val="TVOI"/>

            <Frame type="Image" name="RaceIcon">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="8"/>
                <Texture val="@UI/SC2_UI_Collection_VoicePack_RaceIcon_Terr"/>
                <Alpha val="130"/>
            </Frame>

            <Frame type="RewardCacheFrame" name="UnlockedRewardCacheFrame">
                <Reward val="{$parent/VoicePackFrame/@UnlockedReward[0]}"/>
            </Frame>
        </Frame>

        <Frame type="SelectedVoicePackFrame" name="SelectedZergVoicePackFrame" template="VoicePackFrame/SelectedVoicePackFrameTemplate">
            <Anchor side="Top" relative="$parent/SelectedTerranVoicePackFrame" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/SelectedTerranVoicePackFrame" pos="Max" offset="-5"/>
            <UnlockableTag val="ZVOI"/>

            <Frame type="Image" name="RaceIcon">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="9"/>
                <Texture val="@UI/SC2_UI_Collection_VoicePack_RaceIcon_Zerg"/>
                <Alpha val="130"/>
            </Frame>

            <Frame type="RewardCacheFrame" name="UnlockedRewardCacheFrame">
                <Reward val="{$parent/VoicePackFrame/@UnlockedReward[1]}"/>
            </Frame>
        </Frame>

        <Frame type="SelectedVoicePackFrame" name="SelectedProtossVoicePackFrame" template="VoicePackFrame/SelectedVoicePackFrameTemplate">
            <Anchor side="Top" relative="$parent/SelectedZergVoicePackFrame" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/SelectedZergVoicePackFrame" pos="Max" offset="-5"/>
            <UnlockableTag val="PVOI"/>

            <Frame type="Image" name="RaceIcon">
                <Anchor side="Top" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0"/>
                <Anchor side="Left" relative="$parent" pos="Min" offset="9"/>
                <Texture val="@UI/SC2_UI_Collection_VoicePack_RaceIcon_Prot"/>
                <Alpha val="130"/>
            </Frame>

            <Frame type="RewardCacheFrame" name="UnlockedRewardCacheFrame">
                <Reward val="{$parent/VoicePackFrame/@UnlockedReward[2]}"/>
            </Frame>
        </Frame>

        <Frame type="Image" name="InfoIcon">
            <Anchor side="Top" relative="$parent/SelectedProtossVoicePackFrame" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/SelectedProtossVoicePackFrame" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/SelectedProtossVoicePackFrame" pos="Max" offset="-3"/>
            <Width val="43"/>
            <Height val="43"/>
            <Texture val="@UI/Glues_Icons_GenericInfo"/>
            <AcceptsMouseTooltip val="true"/>
            <Tooltip val="@UI/ScreenCollection/VoicePack/InfoTooltip"/>
        </Frame>

        <Frame type="CheckBox" name="HidePurchasedCheckBox" template="StandardTemplates/StandardCheckBoxTemplate">
            <Anchor side="Top" relative="$parent/SortPulldown" pos="Mid" offset="0"/>
            <Anchor side="Bottom" relative="$parent/SortPulldown" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/SortPulldown" pos="Min" offset="-40"/>
        </Frame>

        <Frame type="Label" name="HidePurchasedLabel">
            <Anchor side="Top" relative="$parent/HidePurchasedCheckBox" pos="Mid" offset="1"/>
            <Anchor side="Bottom" relative="$parent/HidePurchasedCheckBox" pos="Mid" offset="1"/>
            <Anchor side="Right" relative="$parent/HidePurchasedCheckBox" pos="Min" offset="-5"/>
            <Style val="@Arcade_Subtitle"/>
            <Text val="@UI/ScreenCollection/HideOwned"/>
        </Frame>

        <Frame type="GameContentSortPulldown" name="SortPulldown" template="StandardBattlenetTemplates/BattlenetLargePulldownTemplate">
            <Anchor side="Bottom" relative="$Collection_DropdownAnchor" pos="Max" offset="0"/>
            <Anchor side="Right" relative="$parent/VoicePackFrame" pos="Max" offset="-4"/>
            <Animation name="HoverSound">
                <Event event="OnMouseEnter" action="Reset,Play"/>
                <Event event="OnMouseExit" action="Reset, Stop"/>
                <Controller type="Sound" end="Stop">
                    <Key type="Sound" time="0" sound="@UI_HoverTick"/>
                </Controller>
            </Animation>
        </Frame>

        <Frame type="VoicePackFrame" name="VoicePackFrame" template="VoicePackFrame/VoicePackFrameTemplate">
            <Anchor side="Top" relative="$parent/TileListFrameBg" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/VoicePackTileList" pos="Max" offset="30"/>
            <Anchor side="Bottom" relative="$this/CharacterFrame_Background" pos="Max" offset="31"/>
            <Width val="1024"/>
            <VoicePack val="{$parent/@SelectedVoicePack}"/>
        </Frame>

        <Frame type="BlurFrame" name="TilelistFrameBgBlur">
            <Anchor side="Top" relative="$parent/TileListFrameBg" pos="Min" offset="4"/>
            <Anchor side="Left" relative="$parent/TileListFrameBg" pos="Min" offset="4"/>
            <Anchor side="Bottom" relative="$parent/TileListFrameBg" pos="Max" offset="-4"/>
            <Anchor side="Right" relative="$parent/TileListFrameBg" pos="Max" offset="-4"/>

            <Animation name="Blur">
                <Event event="OnShown" action="Reset,Play" frame="$parent" />

                <Controller type="Blur" end="Pause">
                    <Key type="Curve" time="0" value=".35" out="Fast"/>
                </Controller>
            </Animation>
        </Frame>

        <Frame type="Image" name="TileListFrameBg">
            <Anchor side="Top" relative="$parent/SelectedTerranVoicePackFrame" pos="Max" offset="-7"/>
            <Anchor side="Left" relative="$Anchor_LeftStandard" pos="Max" offset="0"/>
            <Anchor side="Bottom" relative="$parent/VoicePackFrame" pos="Max" offset="0"/>
            <Texture val="@UI/SC2_UI_Battlenet_Glue_Arcade_MainContainer"/>
            <TextureType val="NineSlice"/>
            <Width val="517"/>
        </Frame>

        <Frame type="TileList" name="VoicePackTileList" template="VoicePackFrame/VoicePackTileListTemplate">
            <Anchor side="Top" relative="$parent/TileListFrameBg" pos="Min" offset="24"/>
            <Anchor side="Left" relative="$parent/TileListFrameBg" pos="Min" offset="24"/>
            <Anchor side="Bottom" relative="$parent/TileListFrameBg" pos="Max" offset="-25"/>
            <Anchor side="Right" relative="$parent/TileListFrameBg" pos="Max" offset="-12"/>
        </Frame>

        <Frame type="SelectUnlockableButton" name="SelectUnlockableButton" template="CollectionTemplates/SelectRaceUnlockableButtonTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$Anchor_LeftActionButton" pos="Max" offset="0"/>
            <Reward val="{$parent/@SelectedReward[0]}" index="0"/>
            <Reward val="{$parent/@SelectedReward[1]}" index="1"/>
            <Reward val="{$parent/@SelectedReward[2]}" index="2"/>
            <PresenceId val="{$parent/@PresenceId}"/>
            <Visible val="False"/>

            <Frame type="GameContentFrame" name="GameContentFrame">
                <GameContent val="{$parent/$parent/@SelectedGameContent}"/>
            </Frame>

            <Animation name="HoverSound">
                <Event event="OnMouseEnter" action="Reset,Play"/>
                <Event event="OnMouseExit" action="Reset, Stop"/>
                <Controller type="Sound" end="Stop">
                    <Key type="Sound" time="0" sound="@UI_HoverTick"/>
                </Controller>
            </Animation>
        </Frame>

        <Frame type="RacePulldown" name="RacePulldown" template="StandardBattlenetTemplates/BattlenetLargePulldownTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="-4"/>
            <Anchor side="Left" relative="$parent/SelectUnlockableButton" pos="Max" offset="5"/>
            <Visible val="False"/>
            <IncludeAllEntry val="true"/>
            <SortMethod val="Expansion"/>
            <CollapseLayout val="True"/>
            <Animation name="HoverSound">
                <Event event="OnMouseEnter" action="Reset,Play"/>
                <Event event="OnMouseExit" action="Reset, Stop"/>
                <Controller type="Sound" end="Stop">
                    <Key type="Sound" time="0" sound="@UI_HoverTick"/>
                </Controller>
            </Animation>
        </Frame>
        
        <Frame type="Frame" name="EquippedWarningContainer" template="CollectionTemplates/EquippedWarningContainerTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/RacePulldown" pos="Max" offset="20"/>
            
            <StateGroup name="EquippedStateGroup">
                <DefaultState val="UnequippedState"/>
            
                <State name="EquippedState">
                    <When type="Property" frame="$parent/SelectUnlockableButton" enabled="False"/>
                    <When type="Property" frame="$parent/SelectUnlockableButton" visible="True"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="Allowed"/>
                    <Action type="SetProperty" frame="$this" visible="True"/>
                </State>
                
                <State name="UnequippedState">
                    <Action type="SetProperty" frame="$this" visible="False"/>
                </State>
            </StateGroup>
        </Frame>
        
        <Frame type="Frame" name="AchievementLockedWarningContainer" template="CollectionTemplates/AchievementLockedWarningContainerTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/ViewBundleButton" pos="Max" offset="5"/>
            <CollapseLayout val="true"/>
            
            <StateGroup name="AchievementLockedStateGroup">
                <DefaultState val="NotAchievementLockedState"/>
            
                <State name="AchievementLockedState">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/GameContentFrame" PurchasedState="NotPurchased"/>
                    <When type="Property" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" Default="False"/>
                    <When type="Property" frame="$parent/SelectUnlockableButton/GameContentFrame" CanPurchase="False"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="NotAllowed"/>
                    <When type="Property" frame="$parent/SelectUnlockableButton/GameContentFrame" IsValid="True"/>
                    <Action type="SetProperty" frame="$this" visible="True"/>
                </State>
                
                <State name="NotAchievementLockedState">
                    <Action type="SetProperty" frame="$this" visible="False"/>
                </State>
            </StateGroup>
            
            <StateGroup name="AchievementWarningText">
                <DefaultState val="ContentLocked"/>
                
                <State name="Nova">
                    <When type="StateGroup" frame="$parent/VoicePackFrame" VoicePackIdStateGroup="Nova"/>
                    <Action type="SetProperty" frame="$this/Title" text="@UI/ScreenCollection/AchievementNovaTitle"/>
                </State>
            
                <State name="DVABlizzcon">
                    <When type="StateGroup" frame="$parent/VoicePackFrame" VoicePackIdStateGroup="Dva"/>
                    <Action type="SetProperty" frame="$this/Title" text="@UI/ScreenCollection/AchievementBlizzcon2016Title"/>
                </State>
                
                <State name="ContentLocked">
                    <Action type="SetProperty" frame="$this/Title" text="@UI/ScreenCollection/AchievementWarningTitle"/>
                </State>
            </StateGroup>
        </Frame>
        
        <Frame type="Frame" name="LanguageWarningContainer" template="CollectionTemplates/LanguageWarningContainerTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/BuyButton" pos="Max" offset="20"/>
            
            <StateGroup name="LocaleStateGroup">
                <DefaultState val="NoRestriction"/>
                
                <State name="EquippedState">
                    <When type="Property" frame="$parent/SelectUnlockableButton" enabled="False"/>
                    <When type="Property" frame="$parent/SelectUnlockableButton" visible="True"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="Allowed"/>
                    <Action type="SetProperty" frame="$this" visible="False"/>
                </State>
                
                <State name="enUSState">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/GameContentFrame" PurchasedState="NotPurchased"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="NotAllowed"/>
                    <When type="Property" frame="$parent/AchievementLockedWarningContainer" visible="False"/>
                    <When type="Property" frame="$parent/VoicePackFrame" LocaleRestriction="enUS"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                    <Action type="SetProperty" frame="$this/Title" Text="@UI/ScreenCollection/VoicePack/LocaleRestriction/enUS"/>
                </State>
                
                <State name="frFRState">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/GameContentFrame" PurchasedState="NotPurchased"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="NotAllowed"/>
                    <When type="Property" frame="$parent/AchievementLockedWarningContainer" visible="False"/>
                    <When type="Property" frame="$parent/VoicePackFrame" LocaleRestriction="frFR"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                    <Action type="SetProperty" frame="$this/Title" Text="@UI/ScreenCollection/VoicePack/LocaleRestriction/frFR"/>
                </State>
                
                <State name="koKRState">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/GameContentFrame" PurchasedState="NotPurchased"/>
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="NotAllowed"/>
                    <When type="Property" frame="$parent/AchievementLockedWarningContainer" visible="False"/>
                    <When type="Property" frame="$parent/VoicePackFrame" LocaleRestriction="koKR"/>
                    <Action type="SetProperty" frame="$this" Visible="True"/>
                    <Action type="SetProperty" frame="$this/Title" Text="@UI/ScreenCollection/VoicePack/LocaleRestriction/koKR"/>
                </State>
                
                <State name="NoRestriction">
                    <Action type="SetProperty" frame="$this" Visible="False"/>
                </State>
            </StateGroup>
        </Frame>

        <Frame type="BuyButton" name="BuyButton" template="CollectionTemplates/BuyButtonTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$Anchor_LeftActionButton" pos="Max" offset="0"/>
            <GameContent val="{$parent/@SelectedGameContent}"/>

            <StateGroup name="RewardEarnedStateGroup">
                <DefaultState val="RewardNotEarnedState"/>

                <State name="RewardEarnedState">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="Allowed"/>
                    <Action type="SetProperty" frame="$this" visible="false"/>
                </State>

                <State name="BuyHidden">
                    <When type="Property" frame="$parent/VoicePackFrame" IsPurchaseHidden="True"/>
                    <Action type="SetProperty" frame="$this" visible="false"/>
                </State>

                <State name="RewardNotEarnedState">
                    <Action type="SetProperty" frame="$this" visible="true"/>
                </State>
            </StateGroup>
        </Frame>
        
        <Frame type="Button" name="ViewBundleButton" template="StandardBattlenetTemplates/BattlenetStandardButtonTemplate">
            <Anchor side="Bottom" relative="$Anchor_BottomActionButton" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/BuyButton" pos="Max" offset="5"/>
            <CollapseLayout val="true"/>
            <Text val="@UI/ScreenCollection/Buttons/ViewBundle"/>

            <StateGroup name="ViewBundleVisibilityStateGroup">
                <DefaultState val="ViewBundleNotVisible"/>

                <State name="CanEquip">
                    <When type="AnimationState" frame="$parent/SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="Allowed"/>
                    <Action type="SetProperty" frame="$this" visible="False"/>
                </State>

                <State name="HasBundle">
                    <When type="Property" frame="$parent/VoicePackFrame" operator="NotEqual" ParentBundle=""/>
                    <Action type="SetProperty" frame="$this" visible="True"/>
                </State>

                <State name="ViewBundleNotVisible">
                    <Action type="SetProperty" frame="$this" visible="False"/>
                </State>
            </StateGroup>

            <Animation name="Event">
                <Event event="OnClick" action="Reset,Play"/>

                <Controller type="Property" frame="$parent/SelectedBundleFrame" property="Visible" end="Pause">
                    <Key type="Property" time="0" value="false"/>
                    <Key type="Property" time="0.01" value="true"/>
                </Controller>
            </Animation>
        </Frame>
        
        <Frame type="SelectedBundleFrame" name="SelectedBundleFrame" template="SelectedBundleFrame/SelectedBundleFrameTemplate">
            <Anchor side="Top" relative="$parent/$parent" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/$parent" pos="Min" offset="0"/>
            <Anchor side="Bottom" relative="$parent/$parent" pos="Max" offset="0"/>
            <Anchor side="Right" relative="$parent/$parent" pos="Max" offset="0"/>
            <Bundle val="{$parent/VoicePackFrame/@ParentBundle}"/>
            <RenderPriority val="600"/>

            <Frame type="BuyButton" name="BuyButton" template="CollectionTemplates/BuyButtonTemplate">
                <Anchor side="Bottom" relative="$parent/BackgroundImage" pos="Max" offset="-50"/>
                <Anchor side="Right" relative="$parent/BackgroundImage" pos="Mid" offset="-3"/>
                <ShowPrice val="true"/>
                <AlwaysShow val="true"/>

                <GameContent val="{$parent/$parent/VoicePackFrame/@ParentBundleContent}"/>
                <CollapseLayout val="false"/>
            </Frame>

            <Frame type="BundleCacheFrame" name="BundleCacheFrame">
                <Anchor relative="$parent"/>
                <Bundle val="{$parent/@Bundle}"/>
            </Frame>

            <Frame type="GameContentFrame" name="GameContentFrame">
                <Anchor relative="$parent"/>
                <GameContent val="{$parent/$parent/VoicePackFrame/@ParentBundleContent}"/>
            </Frame>

            <Animation name="Event">
                <Event event="OnClick" frame="$this/CloseButton" action="Reset,Play"/>

                <Controller type="Property" property="Visible" end="Pause">
                    <Key type="Property" time="0" value="true"/>
                    <Key type="Property" time="0.01" value="false"/>
                </Controller>
            </Animation>
        </Frame>

        <StateGroup name="SwapButtonsGroup">
            <State name="BuyStateActive">
                <When type="Property" frame="BuyButton" visible="True"/>
                <Action type="SetProperty" frame="SelectUnlockableButton" visible="False"/>
                <Action type="SetProperty" frame="RacePulldown" visible="False"/>
            </State>
            <State name="EquipStateActive">
                <When type="Property" frame="BuyButton" visible="False"/>
                <When type="AnimationState" frame="SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="Allowed"/>
                <Action type="SetProperty" frame="SelectUnlockableButton" visible="True"/>
                <Action type="SetProperty" frame="RacePulldown" visible="True"/>
            </State>
            <State name="NeitherActive">
                <When type="Property" frame="BuyButton" visible="False"/>
                <When type="AnimationState" frame="SelectUnlockableButton/FirstUnlockedRewardCacheFrame" AllowedState="NotAllowed"/>
                <Action type="SetProperty" frame="SelectUnlockableButton" visible="True"/>
                <Action type="SetProperty" frame="RacePulldown" visible="False"/>
            </State>
        </StateGroup>
    </Frame>
</Desc>
