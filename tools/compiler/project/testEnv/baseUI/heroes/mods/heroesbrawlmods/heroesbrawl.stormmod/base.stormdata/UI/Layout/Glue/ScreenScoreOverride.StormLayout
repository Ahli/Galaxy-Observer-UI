<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
    <DescFlags val="Locked"/>

    <Frame type="TileList" name="BrawlUnlockTileList">
        <Animation name="EmptyReward">
            <Event event="Hide" action="Reset" frame="$parent"/>
            <Event event="Hide" action="Play" frame="$parent"/>
            <Event event="Show" action="Reset" frame="$parent"/>
            <Controller type="Visibility" end="Pause">
                <Key type="Bool" time="0.0" value="false"/>
            </Controller>
        </Animation>
        
        <Frame type="RewardTileListItem" name="Item0" template="PlayerRewardsPanel/HeroRewardItemTemplate">
            <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
            <CollapseLayout val="true"/>
        </Frame>
      
        <Frame type="RewardTileListItem" name="Item1" template="PlayerRewardsPanel/HeroRewardItemTemplate">
            <Anchor side="Top" relative="$parent/Item0" pos="Min" offset="0"/>
            <Anchor side="Left" relative="$parent/Item0" pos="Max" offset="-7"/>
            <CollapseLayout val="true"/>
        </Frame>
        
        <Animation name="RankLayout">
            <Event event="RankedGame" action="DirectionForward" frame="$parent"/>
            <Event event="RankedGame" action="Play" frame="$parent"/>
            <Event event="NonRankedGame" action="DirectionReverse" frame="$parent"/>
            <Event event="NonRankedGame" action="Play" frame="$parent"/>
            
            <Controller type="Anchor" end="Pause" side="Top" relative="False">
                <Key type="Curve" time="0" value="-145" out="Step"/>
                <Key type="Curve" time=".01" value="-105" in="Step"/>
            </Controller>
            <Controller type="Anchor" end="Pause" side="Left" relative="False">
                <Key type="Curve" time="0" value="-130" out="Step"/>
                <Key type="Curve" time=".01" value="-140" in="Step"/>
            </Controller>
            <Controller type="Anchor" end="Pause" side="Left" relative="False" frame="Item1">
                <Key type="Curve" time="0" value="-10" out="Step"/>
                <Key type="Curve" time=".01" value="-7" in="Step"/>
            </Controller>
        </Animation>
    </Frame>

    <Frame type="ScoreScreenPointReward" name="BrawlRewardScoreFrameTemplate" template="PlayerRewardsPanel/ScoreFrameTemplate">
        <Frame type="Image" name="ProgressBackground" template="PlayerRewardsPanel/ScoreNonRankBackgroundTemplate">
            <Texture val="@UI/Storm_UI_Scorescreen_HeroXP_Background"/>
        </Frame>

        <Frame type="Image" name="ProgressPattern">
            <Texture val="@UI/Storm_UI_Scorescreen_HeroXP_Pattern" layer="1"/>
        </Frame>

        <Frame type="ProgressBar" name="ProgressBar" template="StandardTemplates/ScoreProgressBarTemplate">
            <Frame type="Frame" name="FillImageContainer">
                <Frame type="Image" name="FillImage">
                    <Texture val="@UI/Storm_UI_Scorescreen_HeroXP_Bar"/>
                </Frame>
            </Frame>
        </Frame>

        <Frame type="Progressbar" name="BoostProgressBar">
            <Visible val="false"/>
        </Frame>

        <Frame type="Label" name="LevelLabel">
            <Visible val="False"/>
        </Frame>

        <Frame type="Label" name="NameLabel">
            <Text val="@UI/ScreenScore/WeeklyReward"/>
        </Frame>

        <Frame type="BrawlRewardPanel" name="BrawlRewardPanel" template="BrawlRewardPanel/BrawlRewardPanelTemplate">
            <Anchor relative="$parent/ProgressBar"/>
            <AchivementId val="{$ancestor[@type=PlayerRewardsPanel]/@BrawlAchievementId}"/>

            <Frame type="UnlockableFrame" name="PortraitUnlockableFrame">
                <Anchor side="Top" relative="$parent/BorderImage" pos="Min" offset="27"/>
                <Anchor side="Left" relative="$parent/BorderImage" pos="Min" offset="78"/>
                <Width val="200"/>
                <Height val="200"/>
            </Frame>

            <Frame type="Image" name="BorderImage">
                <Anchor side="Left" relative="$parent" pos="Mid" offset="7"/>
                <Anchor side="Right" relative="$parent" pos="Mid" offset="7"/>
            </Frame>

        </Frame>

        <Frame type="Label" name="CountLabel">
            <Anchor side="Bottom" relative="$parent/ProgressBar" pos="Max" offset="0"/>
            <Anchor side="Left" relative="$parent/ProgressBar" pos="Min" offset="0"/>
            <Anchor side="Right" relative="$parent/ProgressBar" pos="Max" offset="0"/>
            <Height val=" 50"/>
            <Style val="HeroesBrawlPanel_QuestProgress"/>
        </Frame>

        <Frame type="Image" name="CompletedImage">
            <Anchor side="Top" relative="$parent/CountLabel" pos="Mid" offset="-6"/>
            <Anchor side="Bottom" relative="$parent/CountLabel" pos="Mid" offset="-6"/>
            <Anchor side="Right" relative="$parent/CountLabel" pos="Mid" offset="0"/>
            <Anchor side="Left" relative="$parent/CountLabel" pos="Mid" offset="0"/>
            <Width val="96"/>
            <Height val="96"/>
            <Texture val="@UI/Storm_UI_NewUser_IconComplete"/>
        </Frame>

        <StateGroup name="EarnedState">
            <DefaultState val="NotEarned"/>
            <State name="Earned">
                <When type="AnimationState" frame="$this" CompletionState="Completed"/>
                <Action type="SetProperty" frame="NameLabel" Text="@UI/WeeklyReward/Complete"/>
                <Action type="SetProperty" frame="CountLabel" visible="false"/>
                <Action type="SetProperty" frame="CompletedImage" visible="true"/>
            </State>
            <State name="NotEarned">
                <Action type="SetProperty" frame="NameLabel" Text="@UI/ScreenScore/WeeklyReward"/>
                <Action type="SetProperty" frame="CountLabel" visible="true"/>
                <Action type="SetProperty" frame="CompletedImage" visible="false"/>
            </State>
        </StateGroup>

        <Animation name="LevelUp">
            <Event event="LevelUp" action="Reset"/>
            <Event event="LevelUp" action="Play"/>

            <Controller type="Sound" end="Stop">
                <Key type="Sound" time="0.0" sound="@UI_BNet_Progression_Levelup02"/>
            </Controller>
            <Controller type="Event" end="Pause">
                <Key type="Event" time="0" event="Complete"/>
            </Controller>
        </Animation>
    </Frame>

    <Frame type="ScreenScore" name="ScreenScore" file="ScreenScore">
        <Frame type="PlayerRewardsPanel" name="PlayerRewardsPanel">
            <Frame type="ScoreScreenPointReward" name="BrawlRewardScoreFrame" template="ScreenScoreOverride/BrawlRewardScoreFrameTemplate">
                <Anchor side="Bottom" relative="$parent/ScoreFramesAnchor" pos="Max" offset="0"/>
                <Anchor side="Left" relative="$parent/RankScoreFrame" pos="Max" offset="-235"/>
            </Frame>

            <Frame type="ScoreScreenPointReward" name="PlayerScoreFrame">
                <Animation name="AnimationCascade">
                    <Controller name="RewardCascade" type="Event" end="Stop" frame="$parent/BrawlRewardScoreFrame">
                        <Key type="Event" time="1" event="Shine"/>
                    </Controller>
                </Animation>
            </Frame>

            <Frame type="TileList" name="BrawlRewardTileList" template="ScreenScoreOverride/BrawlUnlockTileList">
                <Anchor side="Top" relative="$parent/BrawlRewardScoreFrame" pos="Max" offset="-105"/>
                <Anchor side="Left" relative="$parent/BrawlRewardScoreFrame" pos="Max" offset="-140"/>
                <Width val="300"/>
                <Height val="100"/>
            </Frame>
            
            <Animation name="ScoreScreenIntro">
                <Controller name="RewardSlide" type="Anchor" end="Pause" side="Bottom" relative="true" frame="BrawlRewardScoreFrame">
                    <Key type="Curve" time="0" value="30" out="Fast"/>
                    <Key type="Curve" time=".5" value="0" in="Slow"/>
                </Controller>
                <Controller name="RewardFade" type="Fade" end="Pause" frame="BrawlRewardScoreFrame">
                    <Key type="Curve" time="0" value="0" out="Slow"/>
                    <Key type="Curve" time=".5" value="255" in="Slow"/>
                </Controller>
                <Controller name="TileListFade" type="Fade" end="Pause" frame="BrawlRewardTileList">
                    <Key type="Curve" time="0" value="0" out="Slow"/>
                    <Key type="Curve" time=".3" value="0" out="Fast"/>
                    <Key type="Curve" time=".6" value="255" in="Slow"/>
                </Controller>
            </Animation>

            <StateGroup name="RewardType">
                <DefaultState val="Regular"/>

                <State name="Regular">
                    <When type="AnimationState" RewardType="Regular"/>
                    <Action type="SetProperty" frame="BrawlRewardScoreFrame" visible="False"/>
                    <Action type="SetProperty" frame="HeroScoreFrame" visible="True"/>
                    <Action type="SetProperty" frame="NextHeroUnlockTileList" visible="True"/>
                </State>

                <State name="WeeklyReward">
                    <When type="AnimationState" RewardType="Weekly"/>
                    <Action type="SetProperty" frame="BrawlRewardScoreFrame" visible="True"/>
                    <Action type="SetProperty" frame="HeroScoreFrame" visible="False"/>
                    <Action type="SetProperty" frame="NextHeroUnlockTileList" visible="False"/>
                </State>
            </StateGroup>
        </Frame>
    </Frame>
</Desc>